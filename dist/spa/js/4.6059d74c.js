(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"0b00":function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n("967e"),s=n.n(a),r=(n("96cf"),n("fa84")),i=n.n(r),o=n("fc74"),c=n.n(o),u=n("59a1"),l=n.n(u),p=n("a27e"),d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";c()(this,t),this.id=e,this.c_nombre_completo=n,this.c_email=a,this.c_password=s}return l()(t,[{key:"login",value:function(){var t=i()(s.a.mark((function t(){var e,n,a,r;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p["a"].post("1/user/login",this);case 2:if(e=t.sent,n=e.status,a=e.data,r=e.headers,200!==n){t.next=8;break}return t.abrupt("return",{data:a,headers:r});case 8:return t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"store",value:function(){var t=i()(s.a.mark((function t(){var e,n,a;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p["a"].post("1/user",this);case 2:if(e=t.sent,n=e.status,a=e.data,201!==n){t.next=7;break}return t.abrupt("return",a);case 7:return t.abrupt("return",!1);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}],[{key:"fromJson",value:function(e){var n=new t(e);return n}}]),t}()},"355b":function(t,e,n){},"50ba":function(t,e,n){"use strict";var a=n("355b"),s=n.n(a);s.a},"8b24":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isLogged?n("q-page",{staticClass:"flex flex-center"}):n("Login")},s=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"flex flex-center"},[n("div",{staticClass:"text-center"},[n("div",{staticClass:"row justify-center aling-center items-center"},[n("img",{attrs:{src:"statics/logo.jpg",alt:""}}),n("h3",{staticStyle:{padding:"0px",margin:"5px"}},[t._v("RiskmanagerPeru")])]),n("div",{staticClass:"row justify-center"},[n("h4",[t._v("Software de Gestion de Riesgos")])]),n("div",{staticClass:"row justify-center"},[n("div",{staticClass:"col-2 q-pa-sm"},[n("img",{attrs:{src:"statics/uncp.jpg",alt:""}})]),n("div",{staticClass:"col-xs-12 col-sm-8 col-md-7 contenedor-login q-mx-lg"},[n("q-form",{staticClass:"row justify-center"},[n("div",{staticClass:"col-12 q-pa-xs"},[n("q-input",{attrs:{outlined:"",type:"text",label:"Correo",dense:"","hide-bottom-space":""},model:{value:t.usuario.c_email,callback:function(e){t.$set(t.usuario,"c_email",e)},expression:"usuario.c_email"}})],1),n("div",{staticClass:"col-12 q-pa-xs"},[n("q-input",{attrs:{type:"password",label:"Contraseña",dense:"","hide-bottom-space":"",outlined:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.usuario.c_password,callback:function(e){t.$set(t.usuario,"c_password",e)},expression:"usuario.c_password"}})],1),n("div",{staticClass:"col-12 q-pa-xs text-center"},[n("q-btn",{attrs:{color:"primary",label:"Ingresar"},on:{click:t.login}})],1),n("div",{staticClass:"col-12 q-pa-xs text-center"},[n("router-link",{attrs:{to:"/registro"}},[t._v("\n                ¿No tienes cuenta?"+t._s(" registrate")+"\n            ")])],1)])],1),n("div",{staticClass:"col-2 q-pa-sm"},[n("img",{attrs:{src:"statics/ingciv.jpg",alt:""}})])])])])},i=[],o=n("967e"),c=n.n(o),u=(n("96cf"),n("fa84")),l=n.n(u),p=n("7edb"),d=n("0b00"),f={name:"Login",mixins:[p["a"]],data:function(){return{usuario:new d["a"]}},methods:{login:function(){var t=this;return l()(c.a.mark((function e(){var n,a,s;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.usuario.login();case 3:if(n=e.sent,n){e.next=6;break}return e.abrupt("return");case 6:a=n.data,s=n.headers,t.$q.sessionStorage.set("identity",a.user),t.$q.sessionStorage.set("token",s.token),t.$store.commit("main/TOKEN_UPDATE",s.token),t.$store.commit("main/IDENTITY_UPDATE",a.user),t.$store.commit("main/ISLOGGED_UPDATE",!0),e.next=16;break;case 14:e.prev=14,e.t0=e["catch"](0);case 16:case"end":return e.stop()}}),e,null,[[0,14]])})))()}}},m=f,v=(n("50ba"),n("2877")),g=n("eebe"),h=n.n(g),x=n("9989"),b=n("0378"),w=n("27f9"),k=n("9c40"),_=Object(v["a"])(m,r,i,!1,null,null,null),y=_.exports;h()(_,"components",{QPage:x["a"],QForm:b["a"],QInput:w["a"],QBtn:k["a"]});var C={name:"PageIndex",mixins:[p["a"]],components:{Login:y}},q=C,j=Object(v["a"])(q,a,s,!1,null,null,null);e["default"]=j.exports;h()(j,"components",{QPage:x["a"]})}}]);