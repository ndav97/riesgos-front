(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{0:function(e,t){},"0037":function(e,t,a){"use strict";var r=a("8791"),o=a.n(r);o.a},1:function(e,t,a){e.exports=a("2f39")},2:function(e,t){},"2f39":function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"someGetter",(function(){return q}));var o={};a.r(o),a.d(o,"toggleDrawer",(function(){return N})),a.d(o,"IDENTITY_UPDATE",(function(){return A})),a.d(o,"TOKEN_UPDATE",(function(){return P})),a.d(o,"ISLOGGED_UPDATE",(function(){return S}));var i={};a.r(i),a.d(i,"getIdentity",(function(){return C})),a.d(i,"getToken",(function(){return R})),a.d(i,"getIsLogged",(function(){return T}));var s=a("967e"),n=a.n(s),c=(a("a481"),a("96cf"),a("fa84")),l=a.n(c),d=(a("7d6e"),a("e54f"),a("985d"),a("31cd"),a("2b0e")),u=a("b05d"),p=a("a639"),g=a("436b"),_=a("2a19");d["a"].use(u["a"],{config:{},plugins:{SessionStorage:p["a"],Dialog:g["a"],Notify:_["a"]}});var v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"q-app"}},[a("router-view")],1)},m=[],b={name:"App"},h=b,f=a("2877"),y=Object(f["a"])(h,v,m,!1,null,null,null),w=y.exports,k=a("2f62"),x={identity:null,token:null,isLogged:!1,leftDrawer:!1};function q(){}function N(e,t){e.leftDrawer=t}function A(e,t){e.identity=t}function P(e,t){e.token=t}function S(e,t){e.isLogged=t}function C(e){var t=e.commit,a=e.state;if(!a.identity){var r=p["a"].getItem("identity");t("IDENTITY_UPDATE",r)}}function R(e){var t=e.commit,a=e.state;if(!a.token){var r=p["a"].getItem("token");t("TOKEN_UPDATE",r)}}function T(e){var t=e.commit,a=!p["a"].isEmpty();t("ISLOGGED_UPDATE",a)}var E={namespaced:!0,getters:r,mutations:o,actions:i,state:x};d["a"].use(k["a"]);var I=function(){var e=new k["a"].Store({modules:{main:E},strict:!1});return e},O=a("8c4f"),Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("div",{staticClass:"row justify-center"},[a("q-btn",{attrs:{label:"Nuevo",color:"primary"},on:{click:e.newProject}})],1),a("div",{staticClass:"row justify-center q-pa-sm"},[a("q-table",{staticStyle:{width:"100%","max-width":"1500px"},attrs:{title:"Proyectos",data:e.projects,columns:e.columns,pagination:e.pagination,"rows-per-page-options":[10],"row-key":"name"},on:{"update:pagination":function(t){e.pagination=t},request:e.cambiarPage},scopedSlots:e._u([{key:"top",fn:function(t){return[a("div",{staticClass:"col-2 q-table__title"},[e._v("Proyectos")]),a("q-space"),a("div",{staticClass:"col-md-4 col-sm-8"},[a("q-input",{attrs:{label:"Busqueda",outlined:"",dense:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loadProyectos(t)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("q-btn",{staticClass:"q-ml-md",attrs:{flat:"",round:"",dense:"",icon:t.inFullscreen?"fas fa-compress":"fas fa-expand"},on:{click:t.toggleFullscreen}})]}},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"index__",attrs:{props:t,"auto-width":!1}},[a("q-btn",{attrs:{color:"primary",size:"sm"},on:{click:function(a){return e.editProject(t.row)}}},[a("i",{staticClass:"fas fa-edit"}),e._v("\n                Editar\n              ")]),a("q-btn",{attrs:{color:"primary",size:"sm"},on:{click:function(a){return e.deleteProject(t.row)}}},[a("i",{staticClass:"fas fa-edit"}),e._v("\n                Elimar\n              ")])],1),a("q-td",{key:"c_codigo_proyecto",style:{width:"200px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_codigo_proyecto))]),a("q-td",{key:"c_nombre_proyecto",style:{width:"300px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_nombre_proyecto))]),a("q-td",{key:"c_responsable",style:{width:"400px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_responsable))]),a("q-td",{key:"c_cliente",style:{width:"400px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_cliente))]),a("q-td",{key:"c_observaciones",style:{width:"500px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_observaciones))])],1)]}}])})],1),a("q-dialog",{model:{value:e.dialog.proyectoAdmin.show,callback:function(t){e.$set(e.dialog.proyectoAdmin,"show",t)},expression:"dialog.proyectoAdmin.show"}},[e.dialog.proyectoAdmin.show?a("proyecto-admin",{attrs:{proyectoProp:e.dialog.proyectoAdmin.proyecto},on:{close:function(t){e.dialog.proyectoAdmin.show=!1},update:function(t){return e.loadProyectos()}}}):e._e()],1)],1)},j=[],D=a("7edb"),U=a("fc74"),$=a.n(U),L=a("59a1"),B=a.n(L),M=a("a27e"),J=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;$()(this,e),this.id=t,this.c_codigo_proyecto=a,this.c_nombre_proyecto=r,this.c_responsable=o,this.c_cliente=i,this.c_observaciones=s,this.user_id=n}return B()(e,[{key:"store",value:function(){var e=l()(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].post("1/proyecto",this);case 2:if(t=e.sent,a=t.status,r=t.data,201!==a){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=l()(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].put("1/proyecto/".concat(this.id),this);case 2:if(t=e.sent,a=t.status,r=t.data,201!==a){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=l()(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].post("1/proyecto/".concat(this.id),{id:this.id});case 2:if(t=e.sent,a=t.status,r=t.data,201!==a){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}],[{key:"fromJson",value:function(t){var a=new e(t.id,t.c_codigo_proyecto,t.c_nombre_proyecto,t.c_responsable,t.c_cliente,t.c_observaciones,t.user_id);return a}},{key:"byUserId",value:function(){var e=l()(n.a.mark((function e(t){var a,r,o;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].get("1/proyecto/by/userId",{params:{id:t}});case 2:if(a=e.sent,r=a.status,o=a.data,200!==r){e.next=7;break}return e.abrupt("return",o);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticStyle:{"max-width":"900px","min-width":"300px"}},[a("q-bar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",[e._v(" "+e._s(e.isEdit?"EDITAR ":"CREAR ")+" PROYECTO")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"fas fa-times"}},[a("q-tooltip",[e._v("Cerrar")])],1)],1),a("q-card-section",[a("q-form",{staticClass:"row justify-center"},[a("div",{staticClass:"col-sm-12 col-md-4 q-ma-sm"},[a("q-input",{attrs:{outlined:"","hide-bottom-space":"",dense:"",label:"Código"},model:{value:e.proyecto.c_codigo_proyecto,callback:function(t){e.$set(e.proyecto,"c_codigo_proyecto",t)},expression:"proyecto.c_codigo_proyecto"}})],1),a("div",{staticClass:"col-sm-12 col-md-4 q-ma-sm"},[a("q-input",{attrs:{outlined:"","hide-bottom-space":"",dense:"",label:"Nombre del proyecto"},model:{value:e.proyecto.c_nombre_proyecto,callback:function(t){e.$set(e.proyecto,"c_nombre_proyecto",t)},expression:"proyecto.c_nombre_proyecto"}})],1),a("div",{staticClass:"col-sm-12 col-md-4 q-ma-sm"},[a("q-input",{attrs:{outlined:"","hide-bottom-space":"",dense:"",label:"Responsable"},model:{value:e.proyecto.c_responsable,callback:function(t){e.$set(e.proyecto,"c_responsable",t)},expression:"proyecto.c_responsable"}})],1),a("div",{staticClass:"col-sm-12 col-md-4 q-ma-sm"},[a("q-input",{attrs:{outlined:"","hide-bottom-space":"",dense:"",label:"Entidad o Cliente"},model:{value:e.proyecto.c_cliente,callback:function(t){e.$set(e.proyecto,"c_cliente",t)},expression:"proyecto.c_cliente"}})],1),a("div",{staticClass:"col-12 text-center"},[e.isEdit?a("q-btn",{staticClass:"q-mr-sm",attrs:{size:"sm",label:"Actualizar",color:"primary"},on:{click:e.update}}):a("q-btn",{staticClass:"q-mr-sm",attrs:{size:"sm",label:"Crear",color:"primary"},on:{click:e.store}})],1)])],1)],1)},Y=[],V={name:"ProyectoAdmin",mixins:[D["a"]],props:{proyectoProp:{default:function(){return null}}},data:function(){return{proyecto:new J,isEdit:!1}},mounted:function(){null!==this.proyectoProp&&(this.isEdit=!0,this.proyecto=J.fromJson(this.proyectoProp))},methods:{store:function(){var e=this;return l()(n.a.mark((function t(){var a;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.proyecto.user_id=e.identity.id,t.next=4,e.proyecto.store();case 4:a=t.sent,a&&(e.$q.notify({type:"positive",message:"Proyecto creado satisfactoriamente"}),e.$emit("update"),e.$emit("close")),t.next=11;break;case 8:return t.prev=8,t.t0=t["catch"](0),t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},update:function(){var e=this;return l()(n.a.mark((function t(){var a;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.proyecto.update();case 3:a=t.sent,a&&(e.$q.notify({type:"positive",message:"Proyecto actualizado satisfactoriamente"}),e.$emit("update"),e.$emit("close")),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}},H=V,F=a("eebe"),G=a.n(F),K=a("f09f"),Z=a("d847"),W=a("6ac5"),X=a("2c91"),ee=a("9c40"),te=a("05c0"),ae=a("a370"),re=a("0378"),oe=a("27f9"),ie=a("7f67"),se=Object(f["a"])(H,z,Y,!1,null,null,null),ne=se.exports;G()(se,"components",{QCard:K["a"],QBar:Z["a"],QToolbarTitle:W["a"],QSpace:X["a"],QBtn:ee["a"],QTooltip:te["a"],QCardSection:ae["a"],QForm:re["a"],QInput:oe["a"]}),G()(se,"directives",{ClosePopup:ie["a"]});var ce={name:"Proyectos",mixins:[D["a"]],components:{ProyectoAdmin:ne},data:function(){return{projects:[],search:"",columns:[{name:"index__",align:"center",label:"ID"},{name:"c_codigo_proyecto",align:"center",label:"Codigo"},{name:"c_nombre_proyecto",align:"center",label:"Nombre"},{name:"c_responsable",align:"center",label:"Responsable"},{name:"c_cliente",align:"center",label:"Cliente"},{name:"c_observaciones",align:"center",label:"Observaciones"}],pagination:{sortBy:"__index",descending:!1,page:1,rowsPerPage:10,rowsNumber:0,pagesNumber:0},dialog:{proyectoAdmin:{show:!1,proyecto:null}}}},mounted:function(){this.loadProyectos()},methods:{loadProyectos:function(){var e=this;return l()(n.a.mark((function t(){var a;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J.byUserId(e.identity.id);case 3:if(a=t.sent,!a){t.next=7;break}return e.projects=a.proyectos,t.abrupt("return");case 7:e.projects=[],t.next=14;break;case 10:return t.prev=10,t.t0=t["catch"](0),e.projects=[],t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},newProject:function(){this.dialog.proyectoAdmin.proyecto=null,this.dialog.proyectoAdmin.show=!0},editProject:function(e){this.dialog.proyectoAdmin.proyecto=e,this.dialog.proyectoAdmin.show=!0},deleteProject:function(e){var t=this;return l()(n.a.mark((function a(){var r;return n.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=J.fromJson(e),a.next=3,r.delete();case 3:t.loadProyectos();case 4:case"end":return a.stop()}}),a)})))()},cambiarPage:function(){}}},le=ce,de=a("9989"),ue=a("eaac"),pe=a("bd08"),ge=a("db86"),_e=a("24e8"),ve=Object(f["a"])(le,Q,j,!1,null,null,null),me=ve.exports;G()(ve,"components",{QPage:de["a"],QBtn:ee["a"],QTable:ue["a"],QSpace:X["a"],QInput:oe["a"],QTr:pe["a"],QTd:ge["a"],QDialog:_e["a"]});var be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"riesgos"},[a("div",{staticClass:"row justify-center"},[a("q-btn",{attrs:{color:"secondary",label:"Descargar Lista de Riesgos Predeterminados"},on:{click:function(t){return e.descargarArchivo()}}})],1),a("div",{staticClass:"row justify-center q-pa-sm"},[a("div",{staticClass:"col-12 col-md-4 col-xl-3 q-pa-sm"},[a("q-card",{staticClass:"my-card"},[a("q-card-section",{staticClass:"text-center cabecera"},[a("span",[e._v("Riesgos de Primer Nivel")]),a("br"),a("q-btn",{attrs:{label:"Nuevo",color:"primary"},on:{click:function(t){return e.newRiesgoPrimerNivel()}}})],1),a("q-separator"),a("q-card-section",[a("q-list",{attrs:{bordered:"",separator:""}},e._l(e.riesgosPrimerNivel,(function(t,r){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.codigo+"-"+r,class:t===e.riesgoPrimerNivelSelect?"selected":"",attrs:{clickable:""},on:{click:function(a){return e.selectRiesgoPrimerNivel(t)}}},[a("q-popup-proxy",{attrs:{"context-menu":""}},[a("q-list",[a("q-item",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("q-btn",{attrs:{label:"Editar",color:"primary"},on:{click:function(a){return e.editRiesgoPrimerNivel(t)}}})],1)])],1)],1),a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{color:"primary","text-color":"white"}},[e._v("\n                  "+e._s(t.codigo)+"\n                ")])],1),a("q-item-section",[a("q-item-label",[e._v(e._s(t.c_nombre))])],1)],1)})),1)],1)],1)],1),e.riesgoPrimerNivelSelect?a("div",{staticClass:"col-12 col-md-4 col-xl-3 q-pa-sm"},[a("q-card",{staticClass:"my-card"},[a("q-card-section",{staticClass:"text-center cabecera"},[a("span",[e._v("Riesgos de Segundo Nivel")]),a("br"),a("q-btn",{attrs:{label:"Nuevo",color:"primary"},on:{click:function(t){return e.newRiesgoSegundoNivel()}}})],1),a("q-separator"),a("q-card-section",[a("q-list",{attrs:{bordered:"",separator:""}},e._l(e.riesgosSegundoNivel,(function(t,r){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.codigo+"-"+r,class:t===e.riesgoSegundoNivelSelect?"selected":"",attrs:{clickable:""},on:{click:function(a){return e.selectRiesgoSegundoNivel(t)}}},[a("q-popup-proxy",{attrs:{"context-menu":""}},[a("q-list",[a("q-item",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("q-btn",{attrs:{label:"Editar",color:"primary"},on:{click:function(a){return e.editRiesgoSegundoNivel(t)}}})],1)])],1)],1),a("q-item-section",[a("q-item-label",[e._v(e._s(t.c_nombre))])],1)],1)})),1)],1)],1)],1):e._e(),e.riesgoSegundoNivelSelect?a("div",{staticClass:"col-12 col-md-4 col-xl-3 q-pa-sm"},[a("q-card",{staticClass:"my-card"},[a("q-card-section",{staticClass:"text-center cabecera"},[a("span",[e._v("Riesgos de Tercer Nivel")]),a("br"),a("q-btn",{attrs:{label:"Nuevo",color:"primary"},on:{click:function(t){return e.newRiesgoTercerNivel()}}})],1),a("q-separator"),a("q-card-section",[a("q-list",{attrs:{bordered:"",separator:""}},e._l(e.riesgosTercerNivel,(function(t,r){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.codigo+"-"+r,attrs:{clickable:""}},[a("q-popup-proxy",{attrs:{"context-menu":""}},[a("q-list",[a("q-item",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("q-btn",{attrs:{label:"Editar",color:"primary"},on:{click:function(a){return e.editRiesgoTercerNivel(t)}}})],1)])],1)],1),a("q-item-section",[a("q-item-label",[e._v(e._s(t.c_nombre))])],1)],1)})),1)],1)],1)],1):e._e()]),a("q-dialog",{model:{value:e.dialog.riesgoPrimerNivelAdmin.show,callback:function(t){e.$set(e.dialog.riesgoPrimerNivelAdmin,"show",t)},expression:"dialog.riesgoPrimerNivelAdmin.show"}},[e.dialog.riesgoPrimerNivelAdmin.show?a("riesgo-primer-nivel-admin",{attrs:{riesgoProp:e.dialog.riesgoPrimerNivelAdmin.riesgo},on:{close:function(t){e.dialog.riesgoPrimerNivelAdmin.show=!1},update:function(t){return e.getRiesgosPrimerNivel()}}}):e._e()],1),a("q-dialog",{model:{value:e.dialog.riesgoSegundoNivelAdmin.show,callback:function(t){e.$set(e.dialog.riesgoSegundoNivelAdmin,"show",t)},expression:"dialog.riesgoSegundoNivelAdmin.show"}},[e.dialog.riesgoSegundoNivelAdmin.show?a("riesgo-segundo-nivel-admin",{attrs:{riesgoProp:e.dialog.riesgoSegundoNivelAdmin.riesgo,riesgoPrimerNivelId:e.riesgoPrimerNivelSelect.id},on:{close:function(t){e.dialog.riesgoSegundoNivelAdmin.show=!1},update:function(t){return e.getRiesgosSegundoNivel()}}}):e._e()],1),a("q-dialog",{model:{value:e.dialog.riesgoTercerNivelAdmin.show,callback:function(t){e.$set(e.dialog.riesgoTercerNivelAdmin,"show",t)},expression:"dialog.riesgoTercerNivelAdmin.show"}},[e.dialog.riesgoTercerNivelAdmin.show?a("riesgo-tercer-nivel-admin",{attrs:{riesgoProp:e.dialog.riesgoTercerNivelAdmin.riesgo,riesgoSegundoNivelId:e.riesgoSegundoNivelSelect.id},on:{close:function(t){e.dialog.riesgoTercerNivelAdmin.show=!1},update:function(t){return e.getRiesgosTercerNivel()}}}):e._e()],1)],1)},he=[],fe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";$()(this,e),this.id=t,this.codigo=a,this.c_nombre=r,this.user_id=o}return B()(e,[{key:"store",value:function(){var e=l()(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].post("1/riesgo-primer-nivel",this);case 2:if(t=e.sent,a=t.status,r=t.data,201!==a){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=l()(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].put("1/riesgo-primer-nivel/".concat(this.id),this);case 2:if(t=e.sent,a=t.status,r=t.data,201!==a){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}],[{key:"fromJson",value:function(t){var a=new e(t.id,t.codigo,t.c_nombre,t.user_id);return a}},{key:"byUserId",value:function(){var e=l()(n.a.mark((function e(t){var a,r,o;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].get("1/riesgo-primer-nivel/by/userId",{params:{id:t}});case 2:if(a=e.sent,r=a.status,o=a.data,200!==r){e.next=7;break}return e.abrupt("return",o);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),ye=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";$()(this,e),this.id=t,this.c_nombre=a,this.riesgo_primer_nivel_id=r}return B()(e,[{key:"store",value:function(){var e=l()(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].post("1/riesgo-segundo-nivel",this);case 2:if(t=e.sent,a=t.status,r=t.data,201!==a){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=l()(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].put("1/riesgo-segundo-nivel/".concat(this.id),this);case 2:if(t=e.sent,a=t.status,r=t.data,201!==a){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}],[{key:"fromJson",value:function(t){var a=new e(t.id,t.c_nombre,t.riesgo_primer_nivel_id);return a}},{key:"byRiesgoPrimerNivelId",value:function(){var e=l()(n.a.mark((function e(t){var a,r,o;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].get("1/riesgo-segundo-nivel/by/riesgoId",{params:{id:t}});case 2:if(a=e.sent,r=a.status,o=a.data,200!==r){e.next=7;break}return e.abrupt("return",o);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),we=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"",p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0;$()(this,e),this.id=t,this.c_nombre=a,this.c_respuesta=r,this.c_estrategia=o,this.c_escala_probabilidad=i,this.n_valoracion_probabilidad=s,this.c_objetivo_afectado=n,this.c_escala_impacto=c,this.n_valoracion_impacto=l,this.n_valoracion_calificacion_riesgo=d,this.c_calificacion_calificacion_riesgo=u,this.riesgo_segundo_nivel_id=p}return B()(e,[{key:"store",value:function(){var e=l()(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].post("1/riesgo-tercer-nivel",this);case 2:if(t=e.sent,a=t.status,r=t.data,201!==a){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=l()(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].put("1/riesgo-tercer-nivel/".concat(this.id),this);case 2:if(t=e.sent,a=t.status,r=t.data,201!==a){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}],[{key:"fromJson",value:function(t){var a=new e(t.id,t.c_nombre,t.c_respuesta,t.c_estrategia,t.c_escala_probabilidad,t.n_valoracion_probabilidad,t.c_objetivo_afectado,t.c_escala_impacto,t.n_valoracion_impacto,t.n_valoracion_calificacion_riesgo,t.c_calificacion_calificacion_riesgo,t.riesgo_segundo_nivel_id);return a}},{key:"byRiesgoSegundoNivelId",value:function(){var e=l()(n.a.mark((function e(t){var a,r,o;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].get("1/riesgo-tercer-nivel/by/riesgoId",{params:{id:t}});case 2:if(a=e.sent,r=a.status,o=a.data,200!==r){e.next=7;break}return e.abrupt("return",o);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticStyle:{"max-width":"900px","min-width":"500px",width:"50vw"}},[a("q-bar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",[e._v(" "+e._s(e.isEdit?"EDITAR ":"CREAR ")+" RIESGO DE PRIMER NIVEL")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"fas fa-times"}},[a("q-tooltip",[e._v("Cerrar")])],1)],1),a("q-card-section",[a("q-form",{staticClass:"row justify-center"},[a("div",{staticClass:"col-sm-12 col-md-6 q-ma-sm"},[a("q-input",{attrs:{outlined:"","hide-bottom-space":"",dense:"",label:"Código"},model:{value:e.riesgo.codigo,callback:function(t){e.$set(e.riesgo,"codigo",t)},expression:"riesgo.codigo"}})],1),a("div",{staticClass:"col-sm-12 col-md-6 q-ma-sm"},[a("q-input",{attrs:{outlined:"","hide-bottom-space":"",dense:"",label:"Nombre del Riesgo"},model:{value:e.riesgo.c_nombre,callback:function(t){e.$set(e.riesgo,"c_nombre",t)},expression:"riesgo.c_nombre"}})],1),a("div",{staticClass:"col-12 text-center"},[e.isEdit?a("q-btn",{staticClass:"q-mr-sm",attrs:{size:"sm",label:"Actualizar",color:"primary"},on:{click:e.update}}):a("q-btn",{staticClass:"q-mr-sm",attrs:{size:"sm",label:"Crear",color:"primary"},on:{click:e.store}})],1)])],1)],1)},xe=[],qe={name:"RiesgoPrimerNivelAdmin",mixins:[D["a"]],props:{riesgoProp:{default:function(){return null}}},data(){return{riesgo:new fe,isEdit:!1}},watch:{"riesgo.codigo":function(e){this.riesgo.codigo=e.toUpperCase()},"riesgo.c_nombre":function(e){this.riesgo.c_nombre=e.toUpperCase()}},mounted(){null!==this.riesgoProp&&(this.isEdit=!0,this.riesgo=fe.fromJson(this.riesgoProp))},methods:{async store(){try{this.riesgo.user_id=this.identity.id;const e=await this.riesgo.store();e&&(this.$q.notify({type:"positive",message:"Riesgo creado satisfactoriamente"}),this.$emit("update"),this.$emit("close"))}catch(e){return!1}},async update(){try{const e=await this.riesgo.update();e&&(this.$q.notify({type:"positive",message:"Riesgo actualizado satisfactoriamente"}),this.$emit("update"),this.$emit("close"))}catch(e){return!1}}}},Ne=qe,Ae=Object(f["a"])(Ne,ke,xe,!1,null,null,null),Pe=Ae.exports;G()(Ae,"components",{QCard:K["a"],QBar:Z["a"],QToolbarTitle:W["a"],QSpace:X["a"],QBtn:ee["a"],QTooltip:te["a"],QCardSection:ae["a"],QForm:re["a"],QInput:oe["a"]}),G()(Ae,"directives",{ClosePopup:ie["a"]});var Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticStyle:{"max-width":"900px","min-width":"500px",width:"50vw"}},[a("q-bar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",[e._v(" "+e._s(e.isEdit?"EDITAR ":"CREAR ")+" RIESGO DE SEGUNDO NIVEL")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"fas fa-times"}},[a("q-tooltip",[e._v("Cerrar")])],1)],1),a("q-card-section",[a("q-form",{staticClass:"row justify-center"},[a("div",{staticClass:"col-sm-12 col-md-8 q-ma-sm"},[a("q-input",{attrs:{outlined:"","hide-bottom-space":"",dense:"",label:"Nombre del Riesgo"},model:{value:e.riesgo.c_nombre,callback:function(t){e.$set(e.riesgo,"c_nombre",t)},expression:"riesgo.c_nombre"}})],1),a("div",{staticClass:"col-12 text-center"},[e.isEdit?a("q-btn",{staticClass:"q-mr-sm",attrs:{size:"sm",label:"Actualizar",color:"primary"},on:{click:e.update}}):a("q-btn",{staticClass:"q-mr-sm",attrs:{size:"sm",label:"Crear",color:"primary"},on:{click:e.store}})],1)])],1)],1)},Ce=[],Re={name:"RiesgoSegundoNivelAdmin",mixins:[D["a"]],props:{riesgoProp:{default:function(){return null}},riesgoPrimerNivelId:{default:function(){return 0}}},data(){return{riesgo:new ye,isEdit:!1}},watch:{"riesgo.c_nombre":function(e){this.riesgo.c_nombre=e.toUpperCase()}},mounted(){null!==this.riesgoProp&&(this.isEdit=!0,this.riesgo=ye.fromJson(this.riesgoProp))},methods:{async store(){try{this.riesgo.riesgo_primer_nivel_id=this.riesgoPrimerNivelId;const e=await this.riesgo.store();e&&(this.$q.notify({type:"positive",message:"Riesgo creado satisfactoriamente"}),this.$emit("update"),this.$emit("close"))}catch(e){return!1}},async update(){try{const e=await this.riesgo.update();e&&(this.$q.notify({type:"positive",message:"Riesgo actualizado satisfactoriamente"}),this.$emit("update"),this.$emit("close"))}catch(e){return!1}}}},Te=Re,Ee=Object(f["a"])(Te,Se,Ce,!1,null,null,null),Ie=Ee.exports;G()(Ee,"components",{QCard:K["a"],QBar:Z["a"],QToolbarTitle:W["a"],QSpace:X["a"],QBtn:ee["a"],QTooltip:te["a"],QCardSection:ae["a"],QForm:re["a"],QInput:oe["a"]}),G()(Ee,"directives",{ClosePopup:ie["a"]});var Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticStyle:{"max-width":"900px","min-width":"500px",width:"50vw"}},[a("q-bar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",[e._v(" "+e._s(e.isEdit?"EDITAR ":"CREAR ")+" RIESGO DE TERCER NIVEL")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"fas fa-times"}},[a("q-tooltip",[e._v("Cerrar")])],1)],1),a("q-card-section",[a("q-form",{staticClass:"row justify-center"},[a("div",{staticClass:"col-sm-12 col-md-6 q-ma-sm"},[a("q-input",{attrs:{outlined:"","hide-bottom-space":"",dense:"",label:"Nombre del Riesgo"},model:{value:e.riesgo.c_nombre,callback:function(t){e.$set(e.riesgo,"c_nombre",t)},expression:"riesgo.c_nombre"}})],1),a("div",{staticClass:"col-sm-12 col-md-6 q-ma-sm"},[a("q-select",{staticClass:"selectInCell",staticStyle:{width:"250px"},attrs:{filled:"",dense:"",label:"Probalididad - Escala",options:["MUY BAJA","BAJA","MEDIANA","ALTA","MUY ALTA"]},on:{input:function(t){return e.changeEscalaProbabilidad()}},model:{value:e.riesgo.c_escala_probabilidad,callback:function(t){e.$set(e.riesgo,"c_escala_probabilidad",t)},expression:"riesgo.c_escala_probabilidad"}})],1),a("div",{staticClass:"col-sm-12 col-md-6 q-ma-sm"},[a("q-select",{staticClass:"selectInCell",staticStyle:{width:"250px"},attrs:{filled:"",dense:"",label:"Probalididad - Valoracion",options:[.1,.3,.5,.7,.9]},on:{input:function(t){return e.changeValoracionProbabilidad()}},model:{value:e.riesgo.n_valoracion_probabilidad,callback:function(t){e.$set(e.riesgo,"n_valoracion_probabilidad",t)},expression:"riesgo.n_valoracion_probabilidad"}})],1),a("div",{staticClass:"col-sm-12 col-md-6 q-ma-sm"},[a("q-input",{attrs:{outlined:"","hide-bottom-space":"",dense:"",label:"Objetivo Afectado"},model:{value:e.riesgo.c_objetivo_afectado,callback:function(t){e.$set(e.riesgo,"c_objetivo_afectado",t)},expression:"riesgo.c_objetivo_afectado"}})],1),a("div",{staticClass:"col-sm-12 col-md-6 q-ma-sm"},[a("q-select",{staticClass:"selectInCell",staticStyle:{width:"250px"},attrs:{filled:"",dense:"",label:"Impacto - Escala",options:["MUY BAJA","BAJA","MEDIANA","ALTA","MUY ALTA"]},on:{input:function(t){return e.changeImpactoEscala()}},model:{value:e.riesgo.c_escala_impacto,callback:function(t){e.$set(e.riesgo,"c_escala_impacto",t)},expression:"riesgo.c_escala_impacto"}})],1),a("div",{staticClass:"col-sm-12 col-md-6 q-ma-sm"},[a("q-select",{staticClass:"selectInCell",staticStyle:{width:"250px"},attrs:{filled:"",dense:"",label:"Impacto - Valoracion",options:[.05,.1,.2,.4,.8]},on:{input:function(t){return e.changeImpactoValoracion()}},model:{value:e.riesgo.n_valoracion_impacto,callback:function(t){e.$set(e.riesgo,"n_valoracion_impacto",t)},expression:"riesgo.n_valoracion_impacto"}})],1),a("div",{staticClass:"col-sm-12 col-md-6 q-ma-sm"},[a("q-input",{attrs:{outlined:"","hide-bottom-space":"",dense:"",label:"Calificacion de riesgo - Valoración",disable:""},model:{value:e.riesgo.n_valoracion_calificacion_riesgo,callback:function(t){e.$set(e.riesgo,"n_valoracion_calificacion_riesgo",t)},expression:"riesgo.n_valoracion_calificacion_riesgo"}})],1),a("div",{staticClass:"col-sm-12 col-md-6 q-ma-sm"},[a("q-input",{attrs:{outlined:"","hide-bottom-space":"",dense:"",label:"Calificacion de riesgo - Calificación",disable:""},model:{value:e.riesgo.c_calificacion_calificacion_riesgo,callback:function(t){e.$set(e.riesgo,"c_calificacion_calificacion_riesgo",t)},expression:"riesgo.c_calificacion_calificacion_riesgo"}})],1),a("div",{staticClass:"col-sm-12 col-md-6 q-ma-sm"},[a("q-select",{staticClass:"selectInCell",staticStyle:{width:"250px"},attrs:{filled:"",dense:"",label:"Estrategia",options:["ESCALAR","EVITAR","TRANSFERIR","MITIGAR","ACEPTAR"]},model:{value:e.riesgo.c_estrategia,callback:function(t){e.$set(e.riesgo,"c_estrategia",t)},expression:"riesgo.c_estrategia"}})],1),a("div",{staticClass:"col-sm-12 col-md-6 q-ma-sm"},[a("q-input",{attrs:{outlined:"","hide-bottom-space":"",dense:"",label:"Respuesta"},model:{value:e.riesgo.c_respuesta,callback:function(t){e.$set(e.riesgo,"c_respuesta",t)},expression:"riesgo.c_respuesta"}})],1),a("div",{staticClass:"col-12 text-center"},[e.isEdit?a("q-btn",{staticClass:"q-mr-sm",attrs:{size:"sm",label:"Actualizar",color:"primary"},on:{click:e.update}}):a("q-btn",{staticClass:"q-mr-sm",attrs:{size:"sm",label:"Crear",color:"primary"},on:{click:e.store}})],1)])],1)],1)},Qe=[],je={name:"RiesgoTercerNivelAdmin",mixins:[D["a"]],props:{riesgoProp:{default:function(){return null}},riesgoSegundoNivelId:{default:function(){return 0}}},data(){return{riesgo:new we,isEdit:!1}},mounted(){null!==this.riesgoProp&&(this.isEdit=!0,this.riesgo=we.fromJson(this.riesgoProp))},methods:{async store(){try{this.riesgo.riesgo_segundo_nivel_id=this.riesgoSegundoNivelId;const e=await this.riesgo.store();e&&(this.$q.notify({type:"positive",message:"Riesgo creado satisfactoriamente"}),this.$emit("update"),this.$emit("close"))}catch(e){return!1}},async update(){try{const e=await this.riesgo.update();e&&(this.$q.notify({type:"positive",message:"Riesgo actualizado satisfactoriamente"}),this.$emit("update"),this.$emit("close"))}catch(e){return!1}},changeEscalaProbabilidad(){switch(this.riesgo.c_escala_probabilidad){case"MUY BAJA":this.riesgo.n_valoracion_probabilidad=.1;break;case"BAJA":this.riesgo.n_valoracion_probabilidad=.3;break;case"MEDIANA":this.riesgo.n_valoracion_probabilidad=.5;break;case"ALTA":this.riesgo.n_valoracion_probabilidad=.7;break;case"MUY ALTA":this.riesgo.n_valoracion_probabilidad=.9;break}this.calcularPuntaje()},changeValoracionProbabilidad(){switch(this.riesgo.n_valoracion_probabilidad){case.1:this.riesgo.c_escala_probabilidad="MUY BAJA";break;case.3:this.riesgo.c_escala_probabilidad="BAJA";break;case.5:this.riesgo.c_escala_probabilidad="MEDIANA";break;case.7:this.riesgo.c_escala_probabilidad="ALTA";break;case.9:this.riesgo.c_escala_probabilidad="MUY ALTA";break}this.calcularPuntaje()},changeImpactoEscala(){switch(this.riesgo.c_escala_impacto){case"MUY BAJA":this.riesgo.n_valoracion_impacto=.05;break;case"BAJA":this.riesgo.n_valoracion_impacto=.1;break;case"MEDIANA":this.riesgo.n_valoracion_impacto=.2;break;case"ALTA":this.riesgo.n_valoracion_impacto=.4;break;case"MUY ALTA":this.riesgo.n_valoracion_impacto=.8;break}this.calcularPuntaje()},changeImpactoValoracion(){switch(this.riesgo.n_valoracion_impacto){case.05:this.riesgo.c_escala_impacto="MUY BAJA";break;case.1:this.riesgo.c_escala_impacto="BAJA";break;case.2:this.riesgo.c_escala_impacto="MODERADO";break;case.4:this.riesgo.c_escala_impacto="ALTA";break;case.8:this.riesgo.c_escala_impacto="MUY ALTA";break}this.calcularPuntaje()},calcularPuntaje(){const e=Math.round(this.riesgo.n_valoracion_impacto*this.riesgo.n_valoracion_probabilidad*100)/100;this.riesgo.n_valoracion_calificacion_riesgo=e,this.riesgo.c_calificacion_calificacion_riesgo=e<=.07?"BAJO":e<=.2?"MEDIO":"ALTO"}}},De=je,Ue=a("ddd8"),$e=Object(f["a"])(De,Oe,Qe,!1,null,null,null),Le=$e.exports;G()($e,"components",{QCard:K["a"],QBar:Z["a"],QToolbarTitle:W["a"],QSpace:X["a"],QBtn:ee["a"],QTooltip:te["a"],QCardSection:ae["a"],QForm:re["a"],QInput:oe["a"],QSelect:Ue["a"]}),G()($e,"directives",{ClosePopup:ie["a"]});var Be={name:"Riesgos",mixins:[D["a"]],components:{RiesgoPrimerNivelAdmin:Pe,RiesgoSegundoNivelAdmin:Ie,RiesgoTercerNivelAdmin:Le},data:function(){return{riesgosPrimerNivel:[],riesgosSegundoNivel:[],riesgosTercerNivel:[],riesgoPrimerNivelSelect:null,riesgoSegundoNivelSelect:null,riesgoTercerNivelSelect:null,dialog:{riesgoPrimerNivelAdmin:{show:!1,riesgo:null},riesgoSegundoNivelAdmin:{show:!1,riesgo:null},riesgoTercerNivelAdmin:{show:!1,riesgo:null}}}},mounted:function(){this.getRiesgosPrimerNivel()},methods:{descargarArchivo:function(){window.open("https://mega.nz/file/jVoFWapI#qhxhZBgM37pDXYR0Eb0hwqL_AwG9QhR9h8AOQohl7x8","_blank")},getRiesgosPrimerNivel:function(){var e=this;return l()(n.a.mark((function t(){var a;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.byUserId(e.identity.id);case 3:a=t.sent,a&&(e.riesgosPrimerNivel=a.riesgos),t.next=10;break;case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},selectRiesgoPrimerNivel:function(e){this.riesgoPrimerNivelSelect=e,this.riesgoSegundoNivelSelect=null,this.riesgosSegundoNivel=[],this.riesgosTercerNivel=[],this.getRiesgosSegundoNivel()},newRiesgoPrimerNivel:function(){this.dialog.riesgoPrimerNivelAdmin.riesgo=null,this.dialog.riesgoPrimerNivelAdmin.show=!0},editRiesgoPrimerNivel:function(e){this.dialog.riesgoPrimerNivelAdmin.riesgo=e,this.dialog.riesgoPrimerNivelAdmin.show=!0},getRiesgosSegundoNivel:function(){var e=this;return l()(n.a.mark((function t(){var a;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ye.byRiesgoPrimerNivelId(e.riesgoPrimerNivelSelect.id);case 3:a=t.sent,a&&(e.riesgosSegundoNivel=a.riesgos),t.next=10;break;case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},selectRiesgoSegundoNivel:function(e){this.riesgoSegundoNivelSelect=e,this.riesgosTercerNivel=[],this.getRiesgosTercerNivel()},newRiesgoSegundoNivel:function(){this.dialog.riesgoSegundoNivelAdmin.riesgo=null,this.dialog.riesgoSegundoNivelAdmin.show=!0},editRiesgoSegundoNivel:function(e){this.dialog.riesgoSegundoNivelAdmin.riesgo=e,this.dialog.riesgoSegundoNivelAdmin.show=!0},getRiesgosTercerNivel:function(){var e=this;return l()(n.a.mark((function t(){var a;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,we.byRiesgoSegundoNivelId(e.riesgoSegundoNivelSelect.id);case 3:a=t.sent,a&&(e.riesgosTercerNivel=a.riesgos),t.next=10;break;case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},newRiesgoTercerNivel:function(){this.dialog.riesgoTercerNivelAdmin.riesgo=null,this.dialog.riesgoTercerNivelAdmin.show=!0},editRiesgoTercerNivel:function(e){this.dialog.riesgoTercerNivelAdmin.riesgo=e,this.dialog.riesgoTercerNivelAdmin.show=!0}}},Me=Be,Je=(a("d689"),a("eb85")),ze=a("1c1c"),Ye=a("66e5"),Ve=a("7cbe"),He=a("4074"),Fe=a("cb32"),Ge=a("0170"),Ke=a("714f"),Ze=Object(f["a"])(Me,be,he,!1,null,null,null),We=Ze.exports;G()(Ze,"components",{QPage:de["a"],QBtn:ee["a"],QCard:K["a"],QCardSection:ae["a"],QSeparator:Je["a"],QList:ze["a"],QItem:Ye["a"],QPopupProxy:Ve["a"],QItemSection:He["a"],QAvatar:Fe["a"],QItemLabel:Ge["a"],QDialog:_e["a"]}),G()(Ze,"directives",{Ripple:Ke["a"]});var Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"RiesgosProyecto"},[a("div",{staticClass:"row justify-center"},[a("q-card",{staticClass:"col-11"},[a("q-tabs",{staticClass:"bg-primary text-white",attrs:{dense:"","active-color":"primary","indicator-color":"white",align:"justify"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{attrs:{name:"proyecto",label:"Proyecto"}}),a("q-tab",{attrs:{name:"tabla",label:"Visualizar tabla"}})],1),a("q-tab-panels",{staticClass:"bg-grey-200 text-black",attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"proyecto"}},[a("div",{staticClass:"row justify-center q-pa-sm"},[a("q-table",{staticStyle:{width:"100%","max-width":"1500px"},attrs:{title:"Proyectos",data:e.projects,columns:e.columns,pagination:e.pagination,"rows-per-page-options":[10],"row-key":"name"},on:{"update:pagination":function(t){e.pagination=t},request:e.cambiarPage},scopedSlots:e._u([{key:"top",fn:function(t){return[a("div",{staticClass:"col-2 q-table__title"},[e._v("Proyectos")]),a("q-space"),a("div",{staticClass:"col-md-4 col-sm-8"},[a("q-input",{attrs:{label:"Busqueda",outlined:"",dense:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loadProyectos(t)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("q-btn",{staticClass:"q-ml-md",attrs:{flat:"",round:"",dense:"",icon:t.inFullscreen?"fas fa-compress":"fas fa-expand"},on:{click:t.toggleFullscreen}})]}},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"index__",attrs:{props:t,"auto-width":!1}},[a("q-btn",{attrs:{color:"primary",size:"sm"},on:{click:function(a){return e.selectProject(t.row)}}},[a("i",{staticClass:"fas fa-edit"}),e._v("\n                        Seleccionar\n                      ")])],1),a("q-td",{key:"c_codigo_proyecto",style:{width:"200px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_codigo_proyecto))]),a("q-td",{key:"c_nombre_proyecto",style:{width:"300px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_nombre_proyecto))]),a("q-td",{key:"c_responsable",style:{width:"400px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_responsable))]),a("q-td",{key:"c_cliente",style:{width:"400px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_cliente))]),a("q-td",{key:"c_observaciones",style:{width:"500px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_observaciones))])],1)]}}])})],1)]),a("q-tab-panel",{attrs:{name:"tabla"}},[e.proyectoSelect?a("div",[a("div",{staticClass:"row justify-center"},[a("img",{attrs:{src:"statics/tablaRiesgos.jpg",alt:""}})]),a("div",{staticClass:"text-h6"},[e._v("Registro de Riesgos")]),a("q-markup-table",{attrs:{separator:"cell",flat:""}},[a("tbody",[a("tr",[a("td",{attrs:{colspan:"3",rowspan:"2"}},[e._v("TIPO DE RIESGO")]),a("td",{staticClass:"cellHeader",attrs:{rowspan:"2"}},[e._v("DESCRIPCIÓN DEL RIESGO")]),a("td",{staticClass:"cellHeader",attrs:{rowspan:"2"}},[e._v("FECHA DE INGRESO DEL RIESGO")]),a("td",{staticClass:"cellHeader",attrs:{colspan:"2"}},[e._v("PROBABILIDAD")]),a("td",{staticClass:"cellHeader",attrs:{colspan:"3"}},[e._v("IMPACTO")]),a("td",{staticClass:"cellHeader",attrs:{colspan:"2"}},[e._v("CALIFICACIÓN DE RIESGO")])]),a("tr",[a("td",{staticClass:"cellHeader"},[e._v("ESCALA")]),a("td",{staticClass:"cellHeader"},[e._v("VALORACIÓN")]),a("td",{staticClass:"cellHeader"},[e._v("OBJETIVO AFECTADO")]),a("td",{staticClass:"cellHeader"},[e._v("ESCALA")]),a("td",{staticClass:"cellHeader"},[e._v("VALORACIÓN")]),a("td",{staticClass:"cellHeader"},[e._v("VALORACIÓN")]),a("td",{staticClass:"cellHeader"},[e._v("CALIFICACIÓN")])]),e._l(e.riesgosProyecto,(function(t,r){return[a("tr",{key:r+"-T1"+t.c_codigo},[a("td",{staticStyle:{"background-color":"#0054ff82"},attrs:{rowspan:2*t.riesgosSegundoNivelProyecto.length+e.sumRiesgosTierTres(t.riesgosSegundoNivelProyecto)+2}},[e._v("\n                      "+e._s(r+1+"."+t.riesgoPrimerNivel.c_nombre+"("+t.riesgoPrimerNivel.codigo+")")+"\n                      "),a("q-popup-proxy",{attrs:{"context-menu":""}},[a("q-banner",{scopedSlots:e._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"delete",color:"primary"},on:{click:function(a){return e.deleteRiesgoPrimerNivel(t)}}})]},proxy:!0}],null,!0)},[e._v("\n                            Eliminar 1\n                          ")])],1)],1)]),e._l(t.riesgosSegundoNivelProyecto,(function(r,o){return[a("tr",{key:o+"-T11"+r.riesgoSegundoNivel.c_nombre},[a("td",{staticStyle:{"background-color":"#cccccc"},attrs:{colspan:"2"}},[e._v("\n                        "+e._s(t.c_codigo+(o+1)+"."+r.riesgoSegundoNivel.c_nombre)+"\n                        "),a("q-popup-proxy",{attrs:{"context-menu":""}},[a("q-banner",{scopedSlots:e._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"delete",color:"primary"},on:{click:function(a){return e.deleteRiesgoSegundoNivel(r,t)}}})]},proxy:!0}],null,!0)},[e._v("\n                            Eliminar\n                          ")])],1)],1),a("td",{staticStyle:{"background-color":"#cccccc"},attrs:{colspan:"11"}})]),e._l(r.riesgosTercerNivelProyecto,(function(i,s){return[a("tr",{key:s+i.id+"T111"},[a("td",[e._v("\n                          "+e._s(t.c_codigo+(o+1)+"-"+(s+1))+"\n                          "),a("q-popup-proxy",{attrs:{"context-menu":""}},[a("q-banner",{scopedSlots:e._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"delete",color:"primary"},on:{click:function(a){return e.deleteRiesgoTercerNivel(i,r,t)}}})]},proxy:!0}],null,!0)},[e._v("\n                              Eliminar\n                            ")])],1)],1),a("td",[e._v("\n                          "+e._s(i.riesgoTercerNivel.c_nombre)+"\n                          "),a("q-popup-proxy",{attrs:{"context-menu":""}},[a("q-banner",{scopedSlots:e._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"delete",color:"primary"}})]},proxy:!0}],null,!0)},[e._v("\n                              Eliminar\n                            ")])],1)],1),a("td",[a("q-input",{attrs:{outlined:"",label:"Descripcion",dense:""},on:{blur:function(t){return e.saveRiesgo(i)}},model:{value:i.c_descripcion_riesgo,callback:function(t){e.$set(i,"c_descripcion_riesgo",t)},expression:"riesgoTres.c_descripcion_riesgo"}})],1),a("td",[a("q-input",{attrs:{outlined:"",label:"Fecha de ingreso",mask:"date",dense:"",disabled:""},model:{value:i.f_fecha_ingreso,callback:function(t){e.$set(i,"f_fecha_ingreso",t)},expression:"riesgoTres.f_fecha_ingreso"}})],1),a("td",[a("q-select",{staticClass:"selectInCell",staticStyle:{width:"250px"},attrs:{filled:"",dense:"",label:"Probalididad - Escala",options:["MUY BAJA","BAJA","MEDIANA","ALTA","MUY ALTA"]},on:{input:function(t){return e.changeEscalaProbabilidad(i)}},model:{value:i.c_escala_probabilidad,callback:function(t){e.$set(i,"c_escala_probabilidad",t)},expression:"riesgoTres.c_escala_probabilidad"}})],1),a("td",[a("q-select",{staticClass:"selectInCell",staticStyle:{width:"250px"},attrs:{filled:"",dense:"",label:"Probalididad - Valoracion",options:[.1,.3,.5,.7,.9]},on:{input:function(t){return e.changeValoracionProbabilidad(i)}},model:{value:i.n_valoracion_probabilidad,callback:function(t){e.$set(i,"n_valoracion_probabilidad",t)},expression:"riesgoTres.n_valoracion_probabilidad"}})],1),a("td",[a("q-input",{attrs:{outlined:"",label:"Objetivo Afectado",dense:""},on:{blur:function(t){return e.saveRiesgo(i)}},model:{value:i.c_objetivo_afectado,callback:function(t){e.$set(i,"c_objetivo_afectado",t)},expression:"riesgoTres.c_objetivo_afectado"}})],1),a("td",[a("q-select",{staticClass:"selectInCell",staticStyle:{width:"250px"},attrs:{filled:"",dense:"",label:"Impacto - Escala",options:["MUY BAJA","BAJA","MEDIANA","ALTA","MUY ALTA"]},on:{input:function(t){return e.changeImpactoEscala(i)}},model:{value:i.c_escala_impacto,callback:function(t){e.$set(i,"c_escala_impacto",t)},expression:"riesgoTres.c_escala_impacto"}})],1),a("td",[a("q-select",{staticClass:"selectInCell",staticStyle:{width:"250px"},attrs:{filled:"",dense:"",label:"Impacto - Valoracion",options:[.05,.1,.2,.4,.8]},on:{input:function(t){return e.changeImpactoValoracion(i)}},model:{value:i.n_valoracion_impacto,callback:function(t){e.$set(i,"n_valoracion_impacto",t)},expression:"riesgoTres.n_valoracion_impacto"}})],1),a("td",[a("q-input",{attrs:{outlined:"",label:"Calificacion de riesgo - Valoración",dense:"",disable:""},model:{value:i.n_valoracion_calificacion_riesgo,callback:function(t){e.$set(i,"n_valoracion_calificacion_riesgo",t)},expression:"riesgoTres.n_valoracion_calificacion_riesgo"}})],1),a("td",[a("q-input",{attrs:{outlined:"",label:"Calificacion de riesgo - Calificación",dense:"",disable:""},model:{value:i.c_calificacion_calificacion_riesgo,callback:function(t){e.$set(i,"c_calificacion_calificacion_riesgo",t)},expression:"riesgoTres.c_calificacion_calificacion_riesgo"}})],1)])]})),a("tr",{key:o+"T13"+r.riesgoSegundoNivel.c_nombre},[a("td",{attrs:{colspan:"11"}},[a("q-select",{staticClass:"selectInCell",staticStyle:{width:"250px"},attrs:{filled:"",dense:"","use-input":"","input-debounce":"0",label:"Riesgo nivel 3",options:e.getRiesgosTres(t,r),"option-label":"c_nombre","emit-value":"","map-options":""},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                                No results\n                              ")])],1)]},proxy:!0}],null,!0),model:{value:r.newRiesgoNivelTresSelect,callback:function(t){e.$set(r,"newRiesgoNivelTresSelect",t)},expression:"riesgoDos.newRiesgoNivelTresSelect"}}),a("q-btn",{attrs:{label:"Añadir Riesgo",color:"primary",dense:""},on:{click:function(t){return e.addRiesgoNivelTres(r)}}})],1)])]})),a("tr",{key:r+"-T2"},[a("td",{attrs:{colspan:"11"}},[a("q-select",{staticClass:"selectInCell",staticStyle:{width:"250px"},attrs:{filled:"",dense:"","use-input":"","input-debounce":"0",label:"Riesgo nivel 2",options:e.getRiesgosDos(t),"option-label":"c_nombre","emit-value":"","map-options":""},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                              No results\n                            ")])],1)]},proxy:!0}],null,!0),model:{value:t.newRiesgoNivelDosSelect,callback:function(a){e.$set(t,"newRiesgoNivelDosSelect",a)},expression:"riesgo.newRiesgoNivelDosSelect"}}),a("q-btn",{attrs:{label:"Añadir Riesgo",color:"primary",dense:""},on:{click:function(a){return e.addRiesgoNivelDos(t)}}})],1)])]})),a("tr",[a("td",{attrs:{colspan:"12"}},[a("q-select",{staticClass:"selectInCell",staticStyle:{width:"250px"},attrs:{filled:"",dense:"","use-input":"","input-debounce":"0",label:"Riesgo nivel 1",options:e.optionsSelectNivelUno,"option-label":"c_nombre","emit-value":"","map-options":""},on:{filter:e.filterRiesgosNivelUno},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                            No results\n                          ")])],1)]},proxy:!0}],null,!1,1402496655),model:{value:e.newRiesgoNivelUnoSelect,callback:function(t){e.newRiesgoNivelUnoSelect=t},expression:"newRiesgoNivelUnoSelect"}}),a("q-btn",{attrs:{label:"Añadir Riesgo",color:"primary",dense:""},on:{click:function(t){return e.addRiesgoToTable()}}})],1)])],2)])],1):a("div",[a("h3",[e._v("Seleccione un royecto")])])])],1)],1)],1)])},et=[],tt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";$()(this,e),this.id=t,this.c_codigo=a,this.n_orden=r,this.riesgo_primer_nivel_id=o,this.proyecto_id=i}return B()(e,[{key:"store",value:function(){var e=l()(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].post("1/riesgo-primer-nivel-proyecto",this);case 2:if(t=e.sent,a=t.status,r=t.data,201!==a){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=l()(n.a.mark((function e(){var t,a,r,o;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.id,e.next=3,M["a"].delete("1/riesgo-primer-nivel-proyecto/".concat(this.id),{params:{id:t}});case 3:if(a=e.sent,r=a.status,o=a.data,201!==r){e.next=8;break}return e.abrupt("return",o);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}],[{key:"fromJson",value:function(t){var a=new e(t.id,t.codigo,t.n_orden,t.riesgo_primer_nivel_id,t.proyecto_id);return a}},{key:"byProyectoId",value:function(){var e=l()(n.a.mark((function e(t){var a,r,o;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].get("1/riesgo-primer-nivel-proyecto/by/proyectoId",{params:{id:t}});case 2:if(a=e.sent,r=a.status,o=a.data,200!==r){e.next=7;break}return e.abrupt("return",o);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),at=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;$()(this,e),this.id=t,this.c_codigo=a,this.n_orden=r,this.riesgo_segundo_nivel_id=o,this.primer_nivel_proyecto_id=i}return B()(e,[{key:"store",value:function(){var e=l()(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].post("1/riesgo-segundo-nivel-proyecto",this);case 2:if(t=e.sent,a=t.status,r=t.data,201!==a){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=l()(n.a.mark((function e(){var t,a,r,o;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.id,e.next=3,M["a"].delete("1/riesgo-segundo-nivel-proyecto/".concat(this.id),{params:{id:t}});case 3:if(a=e.sent,r=a.status,o=a.data,201!==r){e.next=8;break}return e.abrupt("return",o);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}],[{key:"fromJson",value:function(t){var a=new e(t.id,t.codigo,t.n_orden,t.riesgo_segundo_nivel_id,t.primer_nivel_proyecto_id);return a}}]),e}(),rt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",g=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,_=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0;$()(this,e),this.id=t,this.c_codigo=a,this.n_orden=r,this.c_descripcion_riesgo=o,this.f_fecha_ingreso=i,this.c_escala_probabilidad=s,this.n_valoracion_probabilidad=n,this.c_objetivo_afectado=c,this.c_escala_impacto=l,this.n_valoracion_impacto=d,this.n_valoracion_calificacion_riesgo=u,this.c_calificacion_calificacion_riesgo=p,this.riesgo_tercer_nivel_id=g,this.segundo_nivel_proyecto_id=_}return B()(e,[{key:"store",value:function(){var e=l()(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].post("1/riesgo-tercer-nivel-proyecto",this);case 2:if(t=e.sent,a=t.status,r=t.data,201!==a){e.next=7;break}return e.abrupt("return",r);case 7:throw new Error("adasdas");case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=l()(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].put("1/riesgo-tercer-nivel-proyecto/".concat(this.id),this);case 2:if(t=e.sent,a=t.status,r=t.data,201!==a){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=l()(n.a.mark((function e(){var t,a,r,o;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.id,e.next=3,M["a"].delete("1/riesgo-tercer-nivel-proyecto/".concat(this.id),{params:{id:t}});case 3:if(a=e.sent,r=a.status,o=a.data,201!==r){e.next=8;break}return e.abrupt("return",o);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}],[{key:"fromJson",value:function(t){var a=new e(t.id,t.c_codigo,t.n_orden,t.c_descripcion_riesgo,t.f_fecha_ingreso,t.c_escala_probabilidad,t.n_valoracion_probabilidad,t.c_objetivo_afectado,t.c_escala_impacto,t.n_valoracion_impacto,t.n_valoracion_calificacion_riesgo,t.c_calificacion_calificacion_riesgo,t.riesgo_tercer_nivel_id,t.segundo_nivel_proyecto_id);return a}}]),e}(),ot={name:"RiesgosProyecto",mixins:[D["a"]],data(){return{projects:[],search:"",columns:[{name:"index__",align:"center",label:"ID"},{name:"c_codigo_proyecto",align:"center",label:"Codigo"},{name:"c_nombre_proyecto",align:"center",label:"Nombre"},{name:"c_responsable",align:"center",label:"Responsable"},{name:"c_cliente",align:"center",label:"Cliente"},{name:"c_observaciones",align:"center",label:"Observaciones"}],pagination:{sortBy:"__index",descending:!1,page:1,rowsPerPage:10,rowsNumber:0,pagesNumber:0},tab:"proyecto",proyectos:[],proyectoSelect:null,allRiesgosNivelUno:[],newRiesgoNivelUnoSelect:null,optionsSelectNivelUno:[],riesgosProyecto:[]}},computed:{riesgosNivelUnoToAdd:function(){return this.allRiesgosNivelUno.filter(e=>this.riesgosProyecto.findIndex(t=>t.riesgo_primer_nivel_id===e.id)<0)}},mounted(){this.loadProyectos()},methods:{async getRiesgosNivelUno(){try{const e=await fe.byUserId(this.identity.id);e&&(this.allRiesgosNivelUno=e.riesgos)}catch(e){return!1}},returnFecha(e){return e.subString(0,9)},async getRiesgosProyecto(){try{const e=await tt.byProyectoId(this.proyectoSelect.id);e&&(this.riesgosProyecto=e.riesgos)}catch(e){return!1}},async loadProyectos(){try{const e=await J.byUserId(this.identity.id);e&&(this.projects=e.proyectos)}catch(e){return!1}},selectProject(e){this.proyectoSelect=e,this.getRiesgosNivelUno(),this.getRiesgosProyecto(),this.tab="tabla"},cambiarPage(){},async addRiesgoToTable(){try{let e=this.newRiesgoNivelUnoSelect;this.$set(e,"riesgo_primer_nivel_id",e.id),e.id=null,e.proyecto_id=this.proyectoSelect.id;const t=tt.fromJson(this.newRiesgoNivelUnoSelect),a=await t.store();a&&(this.$q.notify({type:"positive",message:"Riesgo registrado"}),this.riesgosProyecto.push(a.riesgo),this.getRiesgosNivelUno(),this.newRiesgoNivelUnoSelect=null)}catch(e){return!1}},async addRiesgoNivelDos(e){try{let t=e.newRiesgoNivelDosSelect,a=t.id;this.$set(t,"riesgo_segundo_nivel_id",a),t.id=null,t.primer_nivel_proyecto_id=e.id;const r=at.fromJson(e.newRiesgoNivelDosSelect),o=await r.store();if(o){this.$q.notify({type:"positive",message:"Riesgo registrado"});const t=this.riesgosProyecto.findIndex(t=>t.id===e.id);this.riesgosProyecto[t].riesgosSegundoNivelProyecto.push(o.riesgo),this.getRiesgosNivelUno(),e.newRiesgoNivelDosSelect=null}}catch(t){return!1}},async addRiesgoNivelTres(e){try{let t=new Date,a=t.getDate(),r=t.getMonth()+1,o=t.getFullYear();const i=r<10?`0${r}`:r;e.newRiesgoNivelTresSelect.f_fecha_ingreso=`${o}-${i}-${a}`;let s=e.newRiesgoNivelTresSelect,n=s.id;this.$set(s,"riesgo_tercer_nivel_id",n),s.id=null,s.segundo_nivel_proyecto_id=e.id;const c=rt.fromJson(s),l=await c.store();this.$q.notify({type:"positive",message:"Riesgo registrado"}),e.riesgosTercerNivelProyecto=[...e.riesgosTercerNivelProyecto,l.riesgo],await this.getRiesgosNivelUno(),e.newRiesgoNivelDosSelect=null,e.riesgosNivelTres.push(e.newRiesgoNivelTresSelect)}catch{}},sumRiesgosTierTres(e){let t=0;for(var a=0;a<e.length;a++)t+=e[a].riesgosTercerNivelProyecto.length;return t},async deleteRiesgoPrimerNivel(e){try{const t=tt.fromJson(e),a=await t.delete();if(a){const t=this.riesgosProyecto.indexOf(e);this.riesgosProyecto.splice(t,1)}}catch(t){return!1}},async deleteRiesgoSegundoNivel(e,t){try{const a=at.fromJson(e),r=await a.delete();r&&t.RiesgoSegundoNivelProyecto.filter(t=>t.id!==e.id)}catch{}},async deleteRiesgoTercerNivel(e,t,a){try{const a=rt.fromJson(e);await a.delete();const r=t.riesgosTercerNivelProyecto.indexOf(e);t.riesgosTercerNivelProyecto.splice(r,1)}catch{}},getRiesgosDos(e){const t=this.allRiesgosNivelUno.findIndex(t=>t.id===e.riesgo_primer_nivel_id);let a=t>=0?this.allRiesgosNivelUno[t].riesgosSegundoNivel:[];const r=this.riesgosProyecto.findIndex(t=>t.riesgoPrimerNivel.id===e.riesgoPrimerNivel.id),o=this.riesgosProyecto[r];return a=a.filter(e=>o.riesgosSegundoNivelProyecto.findIndex(t=>t.riesgoSegundoNivel.id===e.id)<0),a},getRiesgosTres(e,t){const a=this.allRiesgosNivelUno.findIndex(t=>t.id===e.riesgo_primer_nivel_id),r=this.allRiesgosNivelUno[a].riesgosSegundoNivel.findIndex(e=>e.id===t.riesgo_segundo_nivel_id);let o=a>=0?this.allRiesgosNivelUno[a].riesgosSegundoNivel[r].riesgosTercerNivel:[];return o=o.filter(e=>t.riesgosTercerNivelProyecto.findIndex(t=>t.riesgoTercerNivel.id===e.id)<0),o},changeEscalaProbabilidad(e){switch(e.c_escala_probabilidad){case"MUY BAJA":e.n_valoracion_probabilidad=.1;break;case"BAJA":e.n_valoracion_probabilidad=.3;break;case"MEDIANA":e.n_valoracion_probabilidad=.5;break;case"ALTA":e.n_valoracion_probabilidad=.7;break;case"MUY ALTA":e.n_valoracion_probabilidad=.9;break}this.calcularPuntaje(e),this.saveRiesgo(e)},changeValoracionProbabilidad(e){switch(e.n_valoracion_probabilidad){case.1:e.c_escala_probabilidad="MUY BAJA";break;case.3:e.c_escala_probabilidad="BAJA";break;case.5:e.c_escala_probabilidad="MEDIANA";break;case.7:e.c_escala_probabilidad="ALTA";break;case.9:e.c_escala_probabilidad="MUY ALTA";break}this.calcularPuntaje(e),this.saveRiesgo(e)},changeImpactoEscala(e){switch(e.c_escala_impacto){case"MUY BAJA":e.n_valoracion_impacto=.05;break;case"BAJA":e.n_valoracion_impacto=.1;break;case"MEDIANA":e.n_valoracion_impacto=.2;break;case"ALTA":e.n_valoracion_impacto=.4;break;case"MUY ALTA":e.n_valoracion_impacto=.8;break}this.calcularPuntaje(e),this.saveRiesgo(e)},changeImpactoValoracion(e){switch(e.n_valoracion_impacto){case.05:e.c_escala_impacto="MUY BAJA";break;case.1:e.c_escala_impacto="BAJA";break;case.2:e.c_escala_impacto="MODERADO";break;case.4:e.c_escala_impacto="ALTA";break;case.8:e.c_escala_impacto="MUY ALTA";break}this.calcularPuntaje(e),this.saveRiesgo(e)},calcularPuntaje(e){const t=e.n_valoracion_impacto*e.n_valoracion_probabilidad;e.n_valoracion_calificacion_riesgo=t,e.c_calificacion_calificacion_riesgo=t<=.07?"BAJO":t<=.2?"MEDIO":"ALTO"},filterRiesgosNivelUno(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.optionsSelectNivelUno=this.riesgosNivelUnoToAdd.filter(e=>e.c_nombre.toLowerCase().indexOf(t)>-1)}:()=>{this.optionsSelectNivelUno=this.riesgosNivelUnoToAdd})},async saveRiesgo(e){try{const t=rt.fromJson(e);await t.update()}catch(t){return!1}}}},it=ot,st=(a("32e8"),a("429b")),nt=a("7460"),ct=a("adad"),lt=a("823b"),dt=a("2bb1"),ut=a("54e1"),pt=a("0016"),gt=Object(f["a"])(it,Xe,et,!1,null,null,null),_t=gt.exports;G()(gt,"components",{QPage:de["a"],QCard:K["a"],QTabs:st["a"],QTab:nt["a"],QTabPanels:ct["a"],QTabPanel:lt["a"],QTable:ue["a"],QSpace:X["a"],QInput:oe["a"],QBtn:ee["a"],QTr:pe["a"],QTd:ge["a"],QMarkupTable:dt["a"],QPopupProxy:Ve["a"],QBanner:ut["a"],QIcon:pt["a"],QSelect:Ue["a"],QItem:Ye["a"],QItemSection:He["a"]});var vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"RiesgosProyecto"},[a("div",{staticClass:"row justify-center"},[a("q-card",{staticClass:"col-11"},[a("q-tabs",{staticClass:"bg-primary text-white",attrs:{dense:"","active-color":"primary","indicator-color":"white",align:"justify"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{attrs:{name:"proyecto",label:"Proyecto"}}),a("q-tab",{attrs:{name:"tabla",label:"Visualizar tabla"}})],1),a("q-tab-panels",{staticClass:"bg-grey-200 text-black",attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"proyecto"}},[a("div",{staticClass:"row justify-center q-pa-sm"},[a("q-table",{staticStyle:{width:"100%","max-width":"1500px"},attrs:{title:"Proyectos",data:e.projects,columns:e.columns,pagination:e.pagination,"rows-per-page-options":[10],"row-key":"name"},on:{"update:pagination":function(t){e.pagination=t},request:e.cambiarPage},scopedSlots:e._u([{key:"top",fn:function(t){return[a("div",{staticClass:"col-2 q-table__title"},[e._v("Proyectos")]),a("q-space"),a("div",{staticClass:"col-md-4 col-sm-8"},[a("q-input",{attrs:{label:"Busqueda",outlined:"",dense:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loadProyectos(t)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("q-btn",{staticClass:"q-ml-md",attrs:{flat:"",round:"",dense:"",icon:t.inFullscreen?"fas fa-compress":"fas fa-expand"},on:{click:t.toggleFullscreen}})]}},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"index__",attrs:{props:t,"auto-width":!1}},[a("q-btn",{attrs:{color:"primary",size:"sm"},on:{click:function(a){return e.selectProject(t.row)}}},[a("i",{staticClass:"fas fa-edit"}),e._v("\n                        Seleccionar\n                      ")])],1),a("q-td",{key:"c_codigo_proyecto",style:{width:"200px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_codigo_proyecto))]),a("q-td",{key:"c_nombre_proyecto",style:{width:"300px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_nombre_proyecto))]),a("q-td",{key:"c_responsable",style:{width:"400px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_responsable))]),a("q-td",{key:"c_cliente",style:{width:"400px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_cliente))]),a("q-td",{key:"c_observaciones",style:{width:"500px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_observaciones))])],1)]}}])})],1)]),a("q-tab-panel",{attrs:{name:"tabla"}},[e.proyectoSelect?a("div",[a("div",{staticClass:"text-h6"},[e._v("Respuesta de Riesgos")]),a("q-markup-table",{attrs:{separator:"cell",flat:""}},[a("tbody",[a("tr",[a("td",{attrs:{colspan:"3"}},[e._v("TIPO DE RIESGO")]),a("td",{staticClass:"cellHeader"},[e._v("ESTRATEGIA")]),a("td",{staticClass:"cellHeader"},[e._v("RESPUESTA")]),a("td",{staticClass:"cellHeader"},[e._v("RESPONSABLE")])]),e._l(e.riesgosProyecto,(function(t,r){return[a("tr",{key:r+"-T1"},[a("td",{staticStyle:{"background-color":"#0054ff82"},attrs:{rowspan:t.riesgosSegundoNivelProyecto.length+1+e.sumRiesgosTierTres(t.riesgosSegundoNivelProyecto)}},[e._v("\n                      "+e._s(r+1+"."+t.riesgoPrimerNivel.c_nombre+"("+t.riesgoPrimerNivel.codigo+")")+"\n                    ")])]),e._l(t.riesgosSegundoNivelProyecto,(function(r,o){return[a("tr",{key:o+"-T11"},[a("td",{staticStyle:{"background-color":"#cccccc"},attrs:{colspan:"4"}},[e._v("\n                        "+e._s(t.c_codigo+(o+1)+"."+r.riesgoSegundoNivel.c_nombre)+"\n                      ")])]),e._l(r.riesgosTercerNivelProyecto,(function(r,i){return[a("tr",{key:i+r.id+"T111"},[a("td",[e._v("\n                          "+e._s(t.c_codigo+"-"+t.c_codigo+(o+1)+"-"+(i+1))+"\n                        ")]),a("td",[e._v("\n                          "+e._s(r.riesgoTercerNivel.c_nombre)+"\n                        ")]),a("td",[a("q-select",{staticClass:"selectInCell",staticStyle:{width:"250px"},attrs:{filled:"",dense:"",label:"Estrategia",options:["ESCALAR","EVITAR","TRANSFERIR","MITIGAR","ACEPTAR"]},on:{input:function(t){return e.actualizarResp(r)}},model:{value:r.respuesta.c_estrategia,callback:function(t){e.$set(r.respuesta,"c_estrategia",t)},expression:"riesgoTres.respuesta.c_estrategia"}})],1),a("td",[a("q-input",{attrs:{outlined:"",label:"Respuesta",dense:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.actualizarResp(r)}},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"save"},on:{click:function(t){return e.actualizarResp(r)}}})]},proxy:!0}],null,!0),model:{value:r.respuesta.c_respuesta,callback:function(t){e.$set(r.respuesta,"c_respuesta",t)},expression:"riesgoTres.respuesta.c_respuesta"}})],1),a("td",[a("q-input",{attrs:{outlined:"",label:"Responsable",dense:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.actualizarResp(r)}},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"save"},on:{click:function(t){return e.actualizarResp(r)}}})]},proxy:!0}],null,!0),model:{value:r.respuesta.c_responsable,callback:function(t){e.$set(r.respuesta,"c_responsable",t)},expression:"riesgoTres.respuesta.c_responsable"}})],1)])]}))]}))]}))],2)])],1):a("div",[a("h3",[e._v("Seleccione un proyecto")])])])],1)],1)],1)])},mt=[],bt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";$()(this,e),this.id=t,this.c_estrategia=a,this.c_respuesta=r,this.tercer_nivel_proyecto_id=o,this.c_responsable=i}return B()(e,[{key:"update",value:function(){var e=l()(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].put("1/respuesta-riesgo/".concat(this.id),this);case 2:if(t=e.sent,a=t.status,r=t.data,201!==a){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}],[{key:"fromJson",value:function(t){var a=new e(t.id,t.c_estrategia,t.c_respuesta,t.tercer_nivel_proyecto_id,t.c_responsable);return a}}]),e}(),ht={name:"RespuestaRiesgosProyecto",mixins:[D["a"]],data(){return{projects:[],search:"",columns:[{name:"index__",align:"center",label:"ID"},{name:"c_codigo_proyecto",align:"center",label:"Codigo"},{name:"c_nombre_proyecto",align:"center",label:"Nombre"},{name:"c_responsable",align:"center",label:"Responsable"},{name:"c_cliente",align:"center",label:"Cliente"},{name:"c_observaciones",align:"center",label:"Observaciones"}],pagination:{sortBy:"__index",descending:!1,page:1,rowsPerPage:10,rowsNumber:0,pagesNumber:0},tab:"proyecto",proyectos:[],proyectoSelect:null,riesgosProyecto:[],responsables:[]}},mounted(){this.loadProyectos()},computed:{options:function(){let e=[];return this.riesgosProyecto.foreach(t=>t.riesgosSegundoNivelProyecto.foreach(t=>t.riesgosTercerNivelProyecto.foreach(t=>e.push(t.respuesta.c_responsable)))),e}},methods:{async getRiesgosProyecto(){try{const e=await tt.byProyectoId(this.proyectoSelect.id);e&&(this.riesgosProyecto=e.riesgos)}catch(e){return!1}},async loadProyectos(){try{const e=await J.byUserId(this.identity.id);e&&(this.projects=e.proyectos)}catch(e){return!1}},selectProject(e){this.proyectoSelect=e,this.getRiesgosProyecto(),this.tab="tabla"},async actualizarResp(e){try{const t=bt.fromJson(e.respuesta),a=await t.update();a&&this.$q.notify({type:"positive",message:"Respuesta Actualizada."})}catch(t){return!1}},cambiarPage(){},sumRiesgosTierTres(e){let t=0;for(var a=0;a<e.length;a++)t+=e[a].riesgosTercerNivelProyecto.length;return t},filterFn(e,t,a){t(()=>{const t=e.toLocaleLowerCase();this.responsables=this.options.filter(e=>e.toLocaleLowerCase().indexOf(t)>-1)})},setModel({v:e},t){t.respuesta.c_responsable=e}}},ft=ht,yt=(a("5262"),Object(f["a"])(ft,vt,mt,!1,null,null,null)),wt=yt.exports;G()(yt,"components",{QPage:de["a"],QCard:K["a"],QTabs:st["a"],QTab:nt["a"],QTabPanels:ct["a"],QTabPanel:lt["a"],QTable:ue["a"],QSpace:X["a"],QInput:oe["a"],QBtn:ee["a"],QTr:pe["a"],QTd:ge["a"],QMarkupTable:dt["a"],QSelect:Ue["a"],QIcon:pt["a"]});var kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"RiesgosProyecto"},[a("div",{staticClass:"row justify-center"},[a("q-card",{staticClass:"col-11"},[a("q-tabs",{staticClass:"bg-primary text-white",attrs:{dense:"","active-color":"primary","indicator-color":"white",align:"justify"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{attrs:{name:"proyecto",label:"Proyecto"}}),a("q-tab",{attrs:{name:"tabla",label:"Visualizar tabla"}})],1),a("q-tab-panels",{staticClass:"bg-grey-200 text-black",attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"proyecto"}},[a("div",{staticClass:"row justify-center q-pa-sm"},[a("q-table",{staticStyle:{width:"100%","max-width":"1500px"},attrs:{title:"Proyectos",data:e.projects,columns:e.columns,pagination:e.pagination,"rows-per-page-options":[10],"row-key":"name"},on:{"update:pagination":function(t){e.pagination=t},request:e.cambiarPage},scopedSlots:e._u([{key:"top",fn:function(t){return[a("div",{staticClass:"col-2 q-table__title"},[e._v("Proyectos")]),a("q-space"),a("div",{staticClass:"col-md-4 col-sm-8"},[a("q-input",{attrs:{label:"Busqueda",outlined:"",dense:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loadProyectos(t)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("q-btn",{staticClass:"q-ml-md",attrs:{flat:"",round:"",dense:"",icon:t.inFullscreen?"fas fa-compress":"fas fa-expand"},on:{click:t.toggleFullscreen}})]}},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"index__",attrs:{props:t,"auto-width":!1}},[a("q-btn",{attrs:{color:"primary",size:"sm"},on:{click:function(a){return e.selectProject(t.row)}}},[a("i",{staticClass:"fas fa-edit"}),e._v("\n                        Seleccionar\n                      ")])],1),a("q-td",{key:"c_codigo_proyecto",style:{width:"200px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_codigo_proyecto))]),a("q-td",{key:"c_nombre_proyecto",style:{width:"300px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_nombre_proyecto))]),a("q-td",{key:"c_responsable",style:{width:"400px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_responsable))]),a("q-td",{key:"c_cliente",style:{width:"400px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_cliente))])],1)]}}])})],1)]),a("q-tab-panel",{attrs:{name:"tabla"}},[e.proyectoSelect?a("div",[a("div",{staticClass:"text-h6"},[e._v("Respuesta de Riesgos")]),a("q-markup-table",{attrs:{separator:"cell",flat:""}},[a("tbody",[a("tr",[a("td",{attrs:{colspan:"3"}},[e._v("TIPO DE RIESGO")]),a("td",{staticClass:"cellHeader"},[e._v("MONITOREO Y CONTROL")]),a("td",{staticClass:"cellHeader"},[e._v("RESPONSABLE")]),a("td",{staticClass:"cellHeader"},[e._v("ESTADO")]),a("td",{staticClass:"cellHeader"},[e._v("OBSERVACIONES")]),a("td",{staticClass:"cellHeader"},[e._v("ULTIMA FECHA DE REVISION")])]),e._l(e.riesgosProyecto,(function(t,r){return[a("tr",{key:r+"-T1"},[a("td",{staticStyle:{"background-color":"#0054ff82"},attrs:{rowspan:t.riesgosSegundoNivelProyecto.length+1+e.sumRiesgosTierTres(t.riesgosSegundoNivelProyecto)}},[e._v("\n                      "+e._s(r+1+"."+t.riesgoPrimerNivel.c_nombre+"("+t.riesgoPrimerNivel.codigo+")")+"\n                    ")])]),e._l(t.riesgosSegundoNivelProyecto,(function(r,o){return[a("tr",{key:o+"-T11"},[a("td",{staticStyle:{"background-color":"#cccccc"},attrs:{colspan:"6"}},[e._v("\n                        "+e._s(t.c_codigo+(o+1)+"."+r.riesgoSegundoNivel.c_nombre)+"\n                      ")])]),e._l(r.riesgosTercerNivelProyecto,(function(r,i){return[a("tr",{key:i+r.id+"T111"},[a("td",[e._v("\n                          "+e._s(t.c_codigo+"-"+t.c_codigo+(o+1)+"-"+(i+1))+"\n                        ")]),a("td",[e._v("\n                          "+e._s(r.riesgoTercerNivel.c_nombre)+"\n                        ")]),a("td",[a("q-input",{attrs:{outlined:"",label:"Monitoreo y control",dense:""},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"save"},on:{click:function(t){return e.actualizarResp(r)}}})]},proxy:!0}],null,!0),model:{value:r.monitoreo.c_monitoreo_control,callback:function(t){e.$set(r.monitoreo,"c_monitoreo_control",t)},expression:"riesgoTres.monitoreo.c_monitoreo_control"}})],1),a("td",[e._v("\n                          "+e._s(r.respuesta.c_responsable)+"\n                        ")]),a("td",[a("q-select",{staticClass:"selectInCell",staticStyle:{width:"250px"},attrs:{filled:"",dense:"",label:"Estado",options:["EN PROCESO","CONTROLADO"]},on:{change:function(t){return e.actualizarResp(r)}},model:{value:r.monitoreo.c_estado,callback:function(t){e.$set(r.monitoreo,"c_estado",t)},expression:"riesgoTres.monitoreo.c_estado"}})],1),a("td",[a("q-input",{attrs:{outlined:"",label:"Observaciones",dense:""},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"save"},on:{click:function(t){return e.actualizarResp(r)}}})]},proxy:!0}],null,!0),model:{value:r.respuesta.c_observaciones,callback:function(t){e.$set(r.respuesta,"c_observaciones",t)},expression:"riesgoTres.respuesta.c_observaciones"}})],1),a("td",[a("q-input",{attrs:{filled:"",mask:"date"},on:{blur:function(t){return e.actualizarResp(r)}},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",refInFor:!0,attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{on:{input:function(){return e.$refs.qDateProxy.hide()}},model:{value:r.respuesta.f_fecha_revision,callback:function(t){e.$set(r.respuesta,"f_fecha_revision",t)},expression:"riesgoTres.respuesta.f_fecha_revision"}})],1)],1)]},proxy:!0}],null,!0),model:{value:r.respuesta.f_fecha_revision,callback:function(t){e.$set(r.respuesta,"f_fecha_revision",t)},expression:"riesgoTres.respuesta.f_fecha_revision"}})],1)])]}))]}))]}))],2)])],1):a("div",[a("h3",[e._v("Seleccione un proyecto")])])])],1)],1)],1)])},xt=[],qt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";$()(this,e),this.id=t,this.c_monitoreo_control=a,this.c_estado=r,this.tercer_nivel_proyecto_id=o,this.c_observaciones=i,this.f_fecha_revision=s}return B()(e,[{key:"update",value:function(){var e=l()(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].put("1/monitoreo-riesgo/".concat(this.id),this);case 2:if(t=e.sent,a=t.status,r=t.data,201!==a){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}],[{key:"fromJson",value:function(t){var a=new e(t.id,t.c_monitoreo_control,t.c_estado,t.tercer_nivel_proyecto_id,t.c_observaciones,t.f_fecha_revision);return a}}]),e}(),Nt={name:"MonitoreoRiesgosProyecto",mixins:[D["a"]],data(){return{projects:[],search:"",columns:[{name:"index__",align:"center",label:"ID"},{name:"c_codigo_proyecto",align:"center",label:"Codigo"},{name:"c_nombre_proyecto",align:"center",label:"Nombre"},{name:"c_responsable",align:"center",label:"Responsable"},{name:"c_cliente",align:"center",label:"Cliente"}],pagination:{sortBy:"__index",descending:!1,page:1,rowsPerPage:10,rowsNumber:0,pagesNumber:0},tab:"proyecto",proyectos:[],proyectoSelect:null,riesgosProyecto:[]}},mounted(){this.loadProyectos()},methods:{async getRiesgosProyecto(){try{const e=await tt.byProyectoId(this.proyectoSelect.id);e&&(this.riesgosProyecto=e.riesgos)}catch(e){return!1}},async loadProyectos(){try{const e=await J.byUserId(this.identity.id);e&&(this.projects=e.proyectos)}catch(e){return!1}},selectProject(e){this.proyectoSelect=e,this.getRiesgosProyecto(),this.tab="tabla"},async actualizarResp(e){try{const t=qt.fromJson(e.monitoreo),a=await t.update();a&&this.$q.notify({type:"positive",message:"Respuesta Actualizada."})}catch(t){return!1}},cambiarPage(){},sumRiesgosTierTres(e){let t=0;for(var a=0;a<e.length;a++)t+=e[a].riesgosTercerNivelProyecto.length;return t}}},At=Nt,Pt=(a("8bfd"),a("52ee")),St=Object(f["a"])(At,kt,xt,!1,null,null,null),Ct=St.exports;G()(St,"components",{QPage:de["a"],QCard:K["a"],QTabs:st["a"],QTab:nt["a"],QTabPanels:ct["a"],QTabPanel:lt["a"],QTable:ue["a"],QSpace:X["a"],QInput:oe["a"],QBtn:ee["a"],QTr:pe["a"],QTd:ge["a"],QMarkupTable:dt["a"],QIcon:pt["a"],QSelect:Ue["a"],QPopupProxy:Ve["a"],QDate:Pt["a"]});var Rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"RiesgosProyecto"},[a("div",{staticClass:"row justify-center"},[a("q-card",{staticClass:"col-11"},[a("q-tabs",{staticClass:"bg-primary text-white",attrs:{dense:"","active-color":"primary","indicator-color":"white",align:"justify"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{attrs:{name:"proyecto",label:"Proyecto"}}),a("q-tab",{attrs:{name:"tabla",label:"Visualizar tabla"}})],1),a("q-tab-panels",{staticClass:"bg-grey-200 text-black",attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"proyecto"}},[a("div",{staticClass:"row justify-center q-pa-sm"},[a("q-table",{staticStyle:{width:"100%","max-width":"1500px"},attrs:{title:"Proyectos",data:e.projects,columns:e.columns,pagination:e.pagination,"rows-per-page-options":[10],"row-key":"name"},on:{"update:pagination":function(t){e.pagination=t},request:e.cambiarPage},scopedSlots:e._u([{key:"top",fn:function(t){return[a("div",{staticClass:"col-2 q-table__title"},[e._v("Proyectos")]),a("q-space"),a("div",{staticClass:"col-md-4 col-sm-8"},[a("q-input",{attrs:{label:"Busqueda",outlined:"",dense:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loadProyectos(t)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("q-btn",{staticClass:"q-ml-md",attrs:{flat:"",round:"",dense:"",icon:t.inFullscreen?"fas fa-compress":"fas fa-expand"},on:{click:t.toggleFullscreen}})]}},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"index__",attrs:{props:t,"auto-width":!1}},[a("q-btn",{attrs:{color:"primary",size:"sm"},on:{click:function(a){return e.selectProject(t.row)}}},[a("i",{staticClass:"fas fa-edit"}),e._v("\n                        Seleccionar\n                      ")])],1),a("q-td",{key:"c_codigo_proyecto",style:{width:"200px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_codigo_proyecto))]),a("q-td",{key:"c_nombre_proyecto",style:{width:"300px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_nombre_proyecto))]),a("q-td",{key:"c_responsable",style:{width:"400px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_responsable))]),a("q-td",{key:"c_cliente",style:{width:"400px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_cliente))]),a("q-td",{key:"c_observaciones",style:{width:"500px",whiteSpace:"normal"},attrs:{props:t}},[e._v(e._s(t.row.c_observaciones))])],1)]}}])})],1)]),a("q-tab-panel",{attrs:{name:"tabla",id:"content"}},[e.proyectoSelect?a("div",[a("div",{staticClass:"row justify-center"},[a("q-btn",{attrs:{label:"Descargar Reporte",color:"green"},on:{click:e.getExcel}})],1),a("div",{staticClass:"text-h6"},[e._v("REPORTE PROYECTO")]),a("q-markup-table",{attrs:{separator:"cell",flat:""}},[a("tbody",[a("tr",{attrs:{colspan:"12"}},[e._v("RIESGOS DEL PROYECTO")]),a("tr",[a("td",{attrs:{colspan:"3",rowspan:"2"}},[e._v("TIPO DE RIESGO")]),a("td",{staticClass:"cellHeader",attrs:{rowspan:"2"}},[e._v("DESCRIPCIÓN DEL RIESGO")]),a("td",{staticClass:"cellHeader",attrs:{rowspan:"2"}},[e._v("FECHA DE INGRESO DEL RIESGO")]),a("td",{staticClass:"cellHeader",attrs:{colspan:"2"}},[e._v("PROBABILIDAD")]),a("td",{staticClass:"cellHeader",attrs:{colspan:"3"}},[e._v("IMPACTO")]),a("td",{staticClass:"cellHeader",attrs:{colspan:"2"}},[e._v("CALIFICACIÓN DE RIESGO")])]),a("tr",[a("td",{staticClass:"cellHeader"},[e._v("ESCALA")]),a("td",{staticClass:"cellHeader"},[e._v("VALORACIÓN")]),a("td",{staticClass:"cellHeader"},[e._v("OBJETIVO AFECTADO")]),a("td",{staticClass:"cellHeader"},[e._v("ESCALA")]),a("td",{staticClass:"cellHeader"},[e._v("VALORACIÓN")]),a("td",{staticClass:"cellHeader"},[e._v("VALORACIÓN")]),a("td",{staticClass:"cellHeader"},[e._v("CALIFICACIÓN")])]),e._l(e.riesgosProyecto,(function(t,r){return[a("tr",{key:r+"-T1"},[a("td",{staticStyle:{"background-color":"#0054ff82"},attrs:{rowspan:t.riesgosSegundoNivelProyecto.length+e.sumRiesgosTierTres(t.riesgosSegundoNivelProyecto)+1}},[e._v("\n                      "+e._s(r+1+"."+t.riesgoPrimerNivel.c_nombre+"("+t.riesgoPrimerNivel.codigo+")")+"\n                    ")])]),e._l(t.riesgosSegundoNivelProyecto,(function(r,o){return[a("tr",{key:o+"-T11"},[a("td",{staticStyle:{"background-color":"#cccccc"},attrs:{colspan:"2"}},[e._v("\n                        "+e._s(t.c_codigo+(o+1)+"."+r.riesgoSegundoNivel.c_nombre)+"\n                      ")]),a("td",{staticStyle:{"background-color":"#cccccc"},attrs:{colspan:"11"}})]),e._l(r.riesgosTercerNivelProyecto,(function(r,i){return[a("tr",{key:i+r.id+"T111"},[a("td",[e._v("\n                          "+e._s(t.c_codigo+(o+1)+"-"+(i+1))+"\n                        ")]),a("td",[e._v("\n                          "+e._s(r.riesgoTercerNivel.c_nombre)+"\n                        ")]),a("td",[e._v(e._s(r.c_descripcion_riesgo))]),a("td",[e._v(e._s(r.f_fecha_ingreso))]),a("td",[e._v(e._s(r.c_escala_probabilidad))]),a("td",[e._v(e._s(r.n_valoracion_probabilidad))]),a("td",[e._v(e._s(r.c_objetivo_afectado))]),a("td",[e._v(e._s(r.c_escala_impacto))]),a("td",[e._v(e._s(r.n_valoracion_impacto))]),a("td",[e._v(e._s(r.n_valoracion_calificacion_riesgo))]),a("td",[e._v(e._s(r.c_calificacion_calificacion_riesgo))])])]}))]}))]})),a("tr",{attrs:{colspan:"12"}}),a("tr",{attrs:{colspan:"12"}}),a("tr",{attrs:{colspan:"12"}})],2)]),a("div",{staticClass:"row justify-center"},[a("h5",[e._v("RESPUESTAS")])]),a("q-markup-table",{attrs:{separator:"cell",flat:""}},[a("tbody",[a("tr",{attrs:{colspan:"12"}},[e._v("RESPUESTAS DE RIESGOS")]),a("tr",[a("td",{attrs:{colspan:"2"}},[e._v("TIPO DE RIESGO")]),a("td",{staticClass:"cellHeader"},[e._v("ESTRATEGIA")]),a("td",{staticClass:"cellHeader"},[e._v("RESPUESTA")])]),e._l(e.riesgosProyecto,(function(t,r){return[a("tr",{key:r+"-T1"},[a("td",{staticStyle:{"background-color":"#0054ff82"},attrs:{rowspan:t.riesgosSegundoNivelProyecto.length+1+e.sumRiesgosTierTres(t.riesgosSegundoNivelProyecto)}},[e._v("\n                      "+e._s(r+1+"."+t.riesgoPrimerNivel.c_nombre+"("+t.riesgoPrimerNivel.codigo+")")+"\n                    ")])]),e._l(t.riesgosSegundoNivelProyecto,(function(r,o){return[a("tr",{key:o+"-T11"},[a("td",{staticStyle:{"background-color":"#cccccc"},attrs:{colspan:"3"}},[e._v("\n                        "+e._s(t.c_codigo+(o+1)+"."+r.riesgoSegundoNivel.c_nombre)+"\n                      ")])]),e._l(r.riesgosTercerNivelProyecto,(function(r,i){return[a("tr",{key:i+r.id+"T111"},[a("td",[e._v("\n                          "+e._s(t.c_codigo+"-"+t.c_codigo+(o+1)+"-"+(i+1))+"\n                        ")]),a("td",[e._v("\n                          "+e._s(r.respuesta.c_estrategia)+"\n                        ")]),a("td",[e._v("\n                          "+e._s(r.respuesta.c_respuesta)+"\n                        ")])])]}))]}))]})),a("tr",{attrs:{colspan:"12"}}),a("tr",{attrs:{colspan:"12"}}),a("tr",{attrs:{colspan:"12"}})],2)]),a("div",{staticClass:"row justify-center"},[a("h5",[e._v("MONITOREO")])]),a("q-markup-table",{attrs:{separator:"cell",flat:""}},[a("tbody",[a("tr",{attrs:{colspan:"12"}},[e._v("MONITOREO DE RIESGOS")]),a("tr",[a("td",{attrs:{colspan:"2"}},[e._v("TIPO DE RIESGO")]),a("td",{staticClass:"cellHeader"},[e._v("MONITOREO Y CONTROL")]),a("td",{staticClass:"cellHeader"},[e._v("ESTADO")])]),e._l(e.riesgosProyecto,(function(t,r){return[a("tr",{key:r+"-T1"},[a("td",{staticStyle:{"background-color":"#0054ff82"},attrs:{rowspan:t.riesgosSegundoNivelProyecto.length+1+e.sumRiesgosTierTres(t.riesgosSegundoNivelProyecto)}},[e._v("\n                      "+e._s(r+1+"."+t.riesgoPrimerNivel.c_nombre+"("+t.riesgoPrimerNivel.codigo+")")+"\n                    ")])]),e._l(t.riesgosSegundoNivelProyecto,(function(r,o){return[a("tr",{key:o+"-T11"},[a("td",{staticStyle:{"background-color":"#cccccc"},attrs:{colspan:"3"}},[e._v("\n                        "+e._s(t.c_codigo+(o+1)+"."+r.riesgoSegundoNivel.c_nombre)+"\n                      ")])]),e._l(r.riesgosTercerNivelProyecto,(function(r,i){return[a("tr",{key:i+r.id+"T111"},[a("td",[e._v("\n                          "+e._s(t.c_codigo+"-"+t.c_codigo+(o+1)+"-"+(i+1))+"\n                        ")]),a("td",[e._v("\n                          "+e._s(r.monitoreo.c_monitoreo_control)+"\n                        ")]),a("td",[e._v("\n                          "+e._s(r.monitoreo.c_estado)+"\n                        ")])])]}))]}))]})),a("tr",{attrs:{colspan:"12"}}),a("tr",{attrs:{colspan:"12"}}),a("tr",{attrs:{colspan:"12"}})],2)])],1):a("div",[a("h3",[e._v("Seleccione un royecto")])])])],1)],1)],1)])},Tt=[],Et=a("1146"),It=a.n(Et),Ot={name:"ReporteProyecto",mixins:[D["a"]],data(){return{projects:[],search:"",columns:[{name:"index__",align:"center",label:"ID"},{name:"c_codigo_proyecto",align:"center",label:"Codigo"},{name:"c_nombre_proyecto",align:"center",label:"Nombre"},{name:"c_responsable",align:"center",label:"Responsable"},{name:"c_cliente",align:"center",label:"Cliente"},{name:"c_observaciones",align:"center",label:"Observaciones"}],pagination:{sortBy:"__index",descending:!1,page:1,rowsPerPage:10,rowsNumber:0,pagesNumber:0},tab:"proyecto",proyectos:[],proyectoSelect:null,allRiesgosNivelUno:[],newRiesgoNivelUnoSelect:null,optionsSelectNivelUno:[],riesgosProyecto:[]}},computed:{riesgosNivelUnoToAdd:function(){return this.allRiesgosNivelUno.filter(e=>this.riesgosProyecto.findIndex(t=>t.riesgo_primer_nivel_id===e.id)<0)}},mounted(){this.loadProyectos()},methods:{async getRiesgosProyecto(){try{const e=await tt.byProyectoId(this.proyectoSelect.id);e&&(this.riesgosProyecto=e.riesgos)}catch(e){return!1}},async loadProyectos(){try{const e=await J.byUserId(this.identity.id);e&&(this.projects=e.proyectos)}catch(e){return!1}},selectProject(e){this.proyectoSelect=e,this.getRiesgosProyecto(),this.tab="tabla"},cambiarPage(){},sumRiesgosTierTres(e){let t=0;for(var a=0;a<e.length;a++)t+=e[a].riesgosTercerNivelProyecto.length;return t},getRiesgosDos(e){const t=this.allRiesgosNivelUno.findIndex(t=>t.id===e.riesgo_primer_nivel_id);return t>=0?this.allRiesgosNivelUno[t].riesgosSegundoNivel:[]},getRiesgosTres(e,t){const a=this.allRiesgosNivelUno.findIndex(t=>t.id===e.riesgo_primer_nivel_id),r=this.allRiesgosNivelUno[a].riesgosSegundoNivel.findIndex(e=>e.id===t.riesgo_segundo_nivel_id);return a>=0?this.allRiesgosNivelUno[a].riesgosSegundoNivel[r].riesgosTercerNivel:[]},changeEscalaProbabilidad(e){switch(e.c_escala_probabilidad){case"MUY BAJA":e.n_valoracion_probabilidad=.1;break;case"BAJA":e.n_valoracion_probabilidad=.3;break;case"MEDIANA":e.n_valoracion_probabilidad=.5;break;case"ALTA":e.n_valoracion_probabilidad=.7;break;case"MUY ALTA":e.n_valoracion_probabilidad=.9;break}this.calcularPuntaje(e)},changeValoracionProbabilidad(e){switch(e.n_valoracion_probabilidad){case.1:e.c_escala_probabilidad="MUY BAJA";break;case.3:e.c_escala_probabilidad="BAJA";break;case.5:e.c_escala_probabilidad="MEDIANA";break;case.7:e.c_escala_probabilidad="ALTA";break;case.9:e.c_escala_probabilidad="MUY ALTA";break}this.calcularPuntaje(e)},changeImpactoEscala(e){switch(e.c_escala_impacto){case"MUY BAJA":e.n_valoracion_impacto=.05;break;case"BAJA":e.n_valoracion_impacto=.1;break;case"MEDIANA":e.n_valoracion_impacto=.2;break;case"ALTA":e.n_valoracion_impacto=.4;break;case"MUY ALTA":e.n_valoracion_impacto=.8;break}this.calcularPuntaje(e)},changeImpactoValoracion(e){switch(e.n_valoracion_impacto){case.05:e.c_escala_impacto="MUY BAJA";break;case.1:e.c_escala_impacto="BAJA";break;case.2:e.c_escala_impacto="MODERADO";break;case.4:e.c_escala_impacto="ALTA";break;case.8:e.c_escala_impacto="MUY ALTA";break}this.calcularPuntaje(e)},calcularPuntaje(e){const t=e.n_valoracion_impacto*e.n_valoracion_probabilidad;e.n_valoracion_calificacion_riesgo=t,e.c_calificacion_calificacion_riesgo=t<=.07?"BAJO":t<=.2?"MEDIO":"ALTO"},filterRiesgosNivelUno(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.optionsSelectNivelUno=this.riesgosNivelUnoToAdd.filter(e=>e.c_nombre.toLowerCase().indexOf(t)>-1)}:()=>{this.optionsSelectNivelUno=this.riesgosNivelUnoToAdd})},getExcel(){const e=document.getElementById("content");let t=It.a.utils.table_to_book(e);It.a.writeFile(t,"Reporte de Riesgos.xlsx")}}},Qt=Ot,jt=(a("0037"),Object(f["a"])(Qt,Rt,Tt,!1,null,null,null)),Dt=jt.exports;G()(jt,"components",{QPage:de["a"],QCard:K["a"],QTabs:st["a"],QTab:nt["a"],QTabPanels:ct["a"],QTabPanel:lt["a"],QTable:ue["a"],QSpace:X["a"],QInput:oe["a"],QBtn:ee["a"],QTr:pe["a"],QTd:ge["a"],QMarkupTable:dt["a"]});var Ut=[{path:"/",component:function(){return Promise.all([a.e(0),a.e(3)]).then(a.bind(null,"f241"))},children:[{path:"/",component:function(){return a.e(4).then(a.bind(null,"8b24"))}},{path:"/registro",component:function(){return Promise.all([a.e(0),a.e(5)]).then(a.bind(null,"c080"))}},{path:"/proyectos",component:me},{path:"/riesgos",component:We},{path:"/proyectos-riesgos",component:_t},{path:"/respuesta-riesgos",component:wt},{path:"/monitoreo-riesgos",component:Ct},{path:"/reporte",component:Dt}]}];Ut.push({path:"*",component:function(){return a.e(6).then(a.bind(null,"e51e"))}});var $t=Ut;d["a"].use(O["a"]);var Lt=function(){var e=new O["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:$t,mode:"history",base:"/"});return e},Bt=function(){return Mt.apply(this,arguments)};function Mt(){return Mt=l()(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof I){e.next=6;break}return e.next=3,I({Vue:d["a"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=I;case 7:if(t=e.t0,"function"!==typeof Lt){e.next=14;break}return e.next=11,Lt({Vue:d["a"],store:t});case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1=Lt;case 15:return a=e.t1,t.$router=a,r={el:"#q-app",router:a,store:t,render:function(e){return e(w)}},e.abrupt("return",{app:r,store:t,router:a});case 19:case"end":return e.stop()}}),e)}))),Mt.apply(this,arguments)}function Jt(){return zt.apply(this,arguments)}function zt(){return zt=l()(n.a.mark((function e(){var t,a,r,o,i,s,c,l,u;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Bt();case 2:t=e.sent,a=t.app,r=t.store,o=t.router,i=!0,s=function(e){i=!1,window.location.href=e},c=window.location.href.replace(window.location.origin,""),l=[void 0],u=0;case 11:if(!(!0===i&&u<l.length)){e.next=29;break}if("function"===typeof l[u]){e.next=14;break}return e.abrupt("continue",26);case 14:return e.prev=14,e.next=17,l[u]({app:a,router:o,store:r,Vue:d["a"],ssrContext:null,redirect:s,urlPath:c});case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](14),!e.t0||!e.t0.url){e.next=24;break}return window.location.href=e.t0.url,e.abrupt("return");case 24:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 26:u++,e.next=11;break;case 29:if(!1!==i){e.next=31;break}return e.abrupt("return");case 31:new d["a"](a);case 32:case"end":return e.stop()}}),e,null,[[14,19]])}))),zt.apply(this,arguments)}d["a"].prototype.$api=M["a"],Jt()},3:function(e,t){},"31cd":function(e,t,a){},"32e8":function(e,t,a){"use strict";var r=a("f632"),o=a.n(r);o.a},5262:function(e,t,a){"use strict";var r=a("dd2d"),o=a.n(r);o.a},"7edb":function(e,t,a){"use strict";a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d");var r=a("c47a"),o=a.n(r),i=a("2f62");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t["a"]={created:function(){this.init__()},methods:n({},Object(i["b"])({getIdentity:"main/getIdentity",getToken:"main/getToken",getIsLogged:"main/getIsLogged"}),{init__:function(){this.getIdentity(),this.getToken(),this.getIsLogged(),this.$api.defaults.headers.common={Authorization:"Bearer "+this.token}}}),computed:{identity:function(){return this.$store.state.main.identity},token:function(){return this.$store.state.main.token},isLogged:function(){return this.$store.state.main.isLogged},URL_:function(){return"https://riesgos-back.herokuapp.com/ # aqui va la direccion del api al que vas a conectarte"}}}},8791:function(e,t,a){},8946:function(e,t,a){},"8bfd":function(e,t,a){"use strict";var r=a("a2ee"),o=a.n(r);o.a},a27e:function(e,t,a){"use strict";a("551c"),a("06db");var r=a("bc3a"),o=a.n(r),i=a("2a19"),s=a("436b"),n=function(e){if(e.response){var t=e.response,a=t.status,r=t.data;402!==a?400!==a?401!==a?s["a"].create({title:"¡ERROR!",message:"Error desconocido, ¡Auxilio!",ok:{push:!0,color:"negative"},persistent:!0}):s["a"].create({title:"¡NO AUTORIZADO!",message:r.message,ok:{push:!0,color:"negative"},persistent:!0}):i["a"].create({type:"negative",message:r.message}):i["a"].create({color:"negative",textColor:"white",icon:"error",message:"Verifique los campos obligatorios (*)",position:"center",multiLine:!0,closeBtn:"OK"})}},c=n,l=a("f508"),d=function(e){return l["a"].show(),e},u=function(e){return l["a"].hide(),e},p=function(e){return l["a"].hide(),c(e),Promise.reject(e)},g=o.a.create({baseURL:"https://riesgos-back.herokuapp.com/"});g.interceptors.request.use(d),g.interceptors.response.use(u,p);t["a"]=g},a2ee:function(e,t,a){},d689:function(e,t,a){"use strict";var r=a("8946"),o=a.n(r);o.a},dd2d:function(e,t,a){},f632:function(e,t,a){}},[[1,2,0]]]);